YUI.add("hermes-lang-common_fr-fr",function(e,r){e.Intl.add("hermes/common","fr-FR",{SIGN_UP:["S’inscrire"],YOU:["Vous"],PHOTOSTREAM:["Galerie"],SETS:["Albums"],ALBUMS:["Albums"],MAP:["Carte"],FAVORITES:["Favoris"],GALLERIES:["Expos"],COLLECTIONS:["Classeurs"],ARCHIVES:["Archives"],TAGS:["Tags"],PHOTOS_OF:["Photos de"],PROFILE:["Profil"],POPULAR:["Populaires"],EXPLORE:["Explorez"],ACTIVITY:["Activité récente"],STATS:["Stats"],ORGANIZE:["Organisez"],HELP:["Aide"],SETTINGS:["Paramètres"],SIGN_OUT:["Déconnexion"],FLICKRMAIL:["FlickrMail"],ERROR:["Erreur"],OK:["OK"],OOPS:["Oups !"],SIGN_IN:["S’identifier"],FORGET_IT:["Oubliez ça"],WARNING:["Attention"],DONE:["Terminé"],ZOINKS:["Eh !"],CANCEL:["Annuler"],ON:["Activé"],OFF:["Désactivée"],ABOUT:["À propos"],JOBS:["Emploi"],BLOG:["Blog"],APPS:["Applis"],BRAND:["Marque"],DEVELOPERS:["Développeurs"],STATUS:["Statut"],COMMUNITY_GUIDELINES:["Charte d’utilisation"],REPORT_ABUSE:["Signaler un abus"],PRIVACY:["Confidentialité"],TERMS:["CGU"],YAHOO_SAFELY:["Yahoo Plus Sûr"],FEEDBACK:["Commentaires"],MOBILE:["Mobile"],APP_GARDEN:["App Garden"],COMMUNITY:["Communauté"],API_DOC:["Doc API"],DEVELOPER_GUIDE:["Guide du développeur"],DEVELOPER_BLOG:["Blog du développeur"],HELP_FORUM:["Forum d’aide"],GUIDELINES:["Règles de la communauté"],NUMBER:[{type:"number",valueName:"num"}],RETRY:["Réessayer"],EDIT:["Modifier"],MORE:["Plus"],DELETE:["Supprimer"],LOADING:["Chargement"],FOLLOW:["Suivre"],FOLLOWING:["Abonné"],UNFOLLOW:["Ne plus suivre"],FRIEND:["Ami"],FRIENDS:["Amis"],FAMILY:["Famille"],PUBLIC:["Public"],FRIENDS_AND_FAMILY:["Amis et famille"],FRIEND_AND_FAMILY:["Amis et famille"],ALL:["Tous"],A_YAHOO_COMPANY:["Flickr, une société Yahoo"],A_YAHOO_COMPANY_WITH_LINK:['Flickr, <a href="https://info.yahoo.com">une société Yahoo</a>'],A_YAHOO_COMPANY_WITH_TRACKED_LINK:['Flickr, <a href="https://info.yahoo.com" data-track="footer-yahoo">une société Yahoo</a>'],CONFIRMATION:["Confirmation"],FAVORITE:["Favorite"],SEARCH:["Recherchez"],CONFIRM:["Confirmer"],SELECT:["Sélectionner"],NEW:["Nouveau"],LOADING_WITH_ELLIPSES:["En cours de chargement..."],NONE:["Aucune"],TITLE:["Titre"],DESCRIPTION:["Description"],DECLINE:["Rejeter"],ACCEPT:["Accepter"],CIRCA:["Environ"],SOMETIME_IN:["À un certain moment en"],JANUARY:["Janvier"],FEBRUARY:["Février"],MARCH:["Mars"],APRIL:["Avril"],MAY:["Mai"],JUNE:["Juin"],JULY:["Juillet"],AUGUST:["Août"],SEPTEMBER:["Septembre"],OCTOBER:["Octobre"],NOVEMBER:["Novembre"],DECEMBER:["Décembre"],SAVE:["Enregistrer"],PLEASE_TRY_AGAIN:["Veuillez réessayer"],YES:["Oui"],SQUARE:["Carré"],THUMBNAIL:["Vignette"],SMALL:["Petite taille"],MEDIUM:["Taille moyenne"],LARGE:["Grande taille"],XLARGE:["Extralarge"],ORIGINAL:["Originale"],REPLACE:["Remplacer"],SAVING:["Enregistrement"],REPLACING:["Remplacement"],JOIN:["Rejoindre"],SELECTED:[{type:"plural",valueName:"count",options:{one:"${#} sélectionnée",other:"${#} sélectionnées"}}],PREVIEW:["Aperçu"],DATE_TAKEN:["Date de prise"],DATE_POSTED:["Date de publication"],DATE_UPLOADED:["Date d'importation"],PEOPLE:["Personnes"],BETA:["Bêta"],INVALID_DATE:["Date non valide."],INVALID_DATE_TAKEN:["Date de prise non valide."],INVALID_DATE_POSTED:["Date de publication non valide."],INVALID_DATE_UPLOADED:["Date d'importation incorrecte."],FUTURE_DATE_POSTED:["La date de publication correspond à une date dans le futur."],FUTURE_DATE_UPLOADED:["La date d'importation correspond à une date future."],INVALID_DATE_VALUE:["Une ou plusieurs des dates entrées ne sont pas valides."],INVALID_DATE_TAKEN_VALUE:["La valeur Date de photo n'est pas valide."],INVALID_DATE_POSTED_VALUE:["La valeur Date de publication n'est pas valide."],INVALID_DATE_UPLOADED_VALUE:["La valeur Date d'importation n'est pas valide."],JOIN_FLICKR:["Rejoindre Flickr"],GET_PRO:["Passez à la version Pro"],DATE_UPLOADED_BEFORE_ACCOUNT:["La date d'importation doit être ultérieure à la date de création de votre compte du ",{type:"date",valueName:"intlDate",format:"long"},"."],DOWNLOAD:["Télécharger"],CHOOSE_VALID_DATE:["Veuillez choisir une date valide."],CHANGE:["Modifier"],FUTURE_DATE_TAKEN:["La date de prise de vue correspond à une date dans le futur."],BY_USER:["par ","${user}"],BY_YOU:["par VOUS !"],PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC:["Un problème est survenu lors de l'importation de votre photo. Veuillez réessayer."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE:["Apparemment, le type du fichier de la photo est incorrect. Importez une photo au format PNG ou JPG."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE:["Apparemment, la photo à importer est trop volumineuse. La taille maximale des photos pouvant être importées est de 250 Mo."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT:["Sélectionnez une seule photo à importer."],PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY:['Apparemment, votre photo ne correspond pas aux exigences minimales d\'impression. Choisissez une photo d\'au moins 975 x 825 pixels. En savoir plus sur les <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">exigences</a> relatives aux produits imprimés.'],PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE:['Nous ne pouvons pas imprimer de photos avec système de couleurs CMJN ou ProPhoto RVB. Nous recommandons d\'utiliser des photos avec système de couleurs sRVB. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">En savoir plus</a>.'],PHOTO_SELECTOR_BACK_TO_ALBUM_LIST:["Retour à la liste des albums"],PHOTO_SELECTOR_BACK_TO_CATEGORY_LIST:["Retour à la liste des catégories"],PHOTO_SELECTOR_BACK_TO_SEARCH_LIST:["Retour à la liste des recherches"],PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS:["Aucune photo publique"],PHOTO_SELECTOR_EMPTY_PHOTOS:["Aucune photo."],PHOTO_SELECTOR_NO_ALBUMS:["Aucun album."],MARKETPLACE:["Marketplace"],USERS_FAVES:["Favoris de ","${who}"],USERS_ALBUMS:["Albums de ","${who}"],USERS_GALLERIES:["Expos de ","${who}"],USERS_GROUPS:["Groupes de ","${who}"],LOAD_MORE_RESULTS:["Charger d'autres résultats"],CREATE_AN_ACCOUNT:["Créer un compte"],SIGN_IN_MESSAGE:["Connectez-vous à Flickr à l'aide de votre compte Yahoo pour commencer."],MISMATCHED_NSID_ERROR:["Une erreur est survenue. Cliquez sur OK pour recharger la page ou sur Annuler pour continuer à parcourir la page (vous ne pourrez effectuer aucune opération)."],NETWORK_CONNECTIVITY_ISSUE:["Un problème est survenu lors de la lecture des données depuis notre serveur.  Vérifiez les paramètres réseau et les configurations de plug-in/d’extension de navigateur.<br><br>Cliquez sur OK pour recharger la page ou sur Annuler si vous souhaitez continuer à parcourir la page (vous risquez toutefois de ne pas pouvoir effectuer toutes les opérations)."],IE_STORAGE_ISSUE:["Un problème est survenu lors de l’affichage des images dans votre navigateur.  Vérifiez les paramètres de navigateur dans <b>Outils > Options Internet > onglet Général, Historique de navigation, bouton Paramètres >Caches et bases de données</b>.<br><br>Cliquez sur OK pour recharger la page ou sur Annuler si vous souhaitez continuer à parcourir la page (vous risquez toutefois de ne pas pouvoir effectuer toutes les opérations)."],PHOTO_REMOVE_ERROR:["Une erreur est survenue lors de la suppression de la photo. Veuillez réessayer."],LEARN_MORE:["En savoir plus"],LEARN_MORE_ABOUT_PRO:["En savoir plus sur Pro"],EVERYTHING:["Tout"],ALPHA:["Alpha"],BACK:["Précédent"],UNTITLED:["Sans titre"],HIDE_PHOTOS_FROM_PERSON:["Masquer temporairement toutes les photos à cette personne"],SHOW_MORE:["Afficher plus"],CHOOSE_FILE:["Choisir un fichier"],PHOTO_BOOKS:["Albums photo"],WALL_ART:["Décoration murale"],UPLOADING:["Importation"],NUMERIC_PROGRESS_COUNT:["${progress}"," sur ","${total}"],UPLOAD_DROP_TARGET:["C'est parti ! Nous nous occupons de vos photos."],DRAG_AND_DROP:["Vous pouvez déplacer des photos dans cette page en les faisant glisser"],OR:["ou"],SELECT_FILES_TO_UPLOAD:["Sélectionnez les fichiers à importer"],INSTALL:["Installer"],INSTALL_FLICKR_UPLOADER_FOR_MAC:["Installez Flickr Uploadr pour Mac pour sauvegarder rapidement et en toute sécurité tout votre classeur de photos."],INSTALL_FLICKR_UPLOADER_FOR_WINDOWS:["Installez Flickr Uploadr pour Windows pour sauvegarder rapidement et en toute sécurité tout votre classeur de photos."],FLICKR_IS_ALMOST_CERTAINLY:["Flickr est sans aucun doute la meilleure application au monde de gestion et de partage de photos en ligne. Montrez vos photos et vidéos favorites au monde entier, réservez votre contenu privé à vos amis et à votre famille, ou importez dans un blog les photos et vidéos prises avec votre téléphone."],TOGGLE_SLIDESHOW:["Afficher le diaporama"],UPLOAD_MORE_INFO:['Pour plus de détails sur les formats de fichiers pris en charge, <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">cliquez ici</a>.'],UPLOAD_MORE_INFO_WITH_LINK:['Pour plus de détails sur les formats de fichiers pris en charge, <a href="',"${supportURL}",'" target="_blank">cliquez ici</a>.'],UPLOAD_ERROR_TITLE:["Hum :("],UPLOAD_ERROR_CATEGORY_INVALID:['Ces types de fichiers ne sont pas pris en charge ou les fichiers sont endommagés. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Cliquez ici</a> pour en savoir plus.'],UPLOAD_ERROR_CATEGORY_INVALID_WITH_LINK:['Ces types de fichiers ne sont pas pris en charge ou les fichiers sont endommagés. <a href="',"${supportURL}",'" target="_blank">Cliquez ici</a> pour plus d\'informations.'],UPLOAD_ERROR_CATEGORY_GENERIC:['Ces fichiers n\'ont pas pu être importés. Vous pouvez réessayer de les importer. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Cliquez ici</a> pour en savoir plus.'],UPLOAD_ERROR_CATEGORY_GENERIC_WITH_LINK:["Ces fichiers n'ont pas pu être importés. Vous pouvez réessayer de les importer. <a href=\"","${supportURL}",'" target="_blank">Cliquez ici</a> pour plus d’informations.'],TRY_MDOT:["Essayez Flickr optimisé pour votre appareil mobile"],VIDEO_NOT_SUPPORTED:["Désolé. Votre navigateur ne prend pas en charge la vidéo HTML5."],UNBLOCK:["Débloquer"],START_SLIDESHOW:["Démarrer le diaporama"],EACH_FLICKR_ACCOUNT_HAS_STORAGE:["Chaque compte Flickr dispose de 1 000 Go de stockage gratuit pour les photos."],BUY_LICENSE:["Acheter une licence"],BUY_PHOTO:["Acheter une photo"],BUY:["Acheter"],LICENSE_PHOTO:["Acheter une licence pour une photo"],HAVE_YAHOO_ACCOUNT:["Vous avez un compte Yahoo ?"],SIGN_UP_WITH_YAHOO:["Inscrivez-vous avec Yahoo"],SIGN_INTO_FLICKR:["Connectez-vous à Flickr"],NEVER_DELETE_WITH_ONE_TB:["Vous n'aurez plus à supprimer de photos grâce au stockage gratuit de 1 To."],CLICK_BUTTON_THIRD_PARTY:["En cliquant sur ce bouton, vous accédez à un site tiers."],LICENSE_TITLE_0:["Tous droits réservés"],LICENSE_DESC_0:["Pour utiliser cette œuvre, vous devez demander l'autorisation à son créateur."],LICENSE_TITLE_1:["Attribution - Pas d'utilisation commerciale - Partage dans les mêmes conditions"],LICENSE_DESC_1:["Vous pouvez utiliser cette œuvre, mais uniquement à des fins non commerciales, à condition de citer son créateur. Vous devez autoriser l'utilisation de votre œuvre conformément aux mêmes Conditions Générales d'Utilisation."],LICENSE_TITLE_2:["Attribution - Pas d'utilisation commerciale"],LICENSE_DESC_2:["Vous pouvez utiliser cette œuvre, mais uniquement à des fins non commerciales, à condition de citer son créateur."],LICENSE_TITLE_3:["Attribution - Pas d'utilisation commerciale - Pas de modification"],LICENSE_DESC_3:["Vous pouvez utiliser cette œuvre, dans sa forme d'origine, sans modification et uniquement à des fins non commerciales, à condition de citer son créateur."],LICENSE_TITLE_4:["Attribution uniquement"],LICENSE_DESC_4:["Vous pouvez utiliser cette œuvre à condition de citer son créateur."],LICENSE_TITLE_5:["Attribution - Partage dans les mêmes conditions"],LICENSE_DESC_5:["Vous pouvez utiliser cette œuvre à condition de citer son créateur. Vous devez autoriser l'utilisation de votre œuvre conformément aux mêmes Conditions Générales d'Utilisation."],LICENSE_TITLE_6:["Attribution - Pas de modification"],LICENSE_DESC_6:["Vous pouvez utiliser cette œuvre, dans sa forme d'origine et sans modification, à condition de citer son créateur."],LICENSE_TITLE_7:["Aucune restriction connue"],LICENSE_DESC_7:["La personne ou l'organisation qui publie l'œuvre ignore l'existence de restrictions. Vous devez examiner l'œuvre avant de l'utiliser."],LICENSE_TITLE_8:["Œuvres du Gouvernement américain"],LICENSE_DESC_8:["La protection des droits d’auteur n’est pas disponible pour les travaux du Gouvernement des États-Unis."],LICENSE_TITLE_9:["Œuvre dédiée du domaine public"],LICENSE_DESC_9:["Vous pouvez utiliser cette œuvre, car elle n'est plus soumise aux droits d'auteur."],LICENSE_TITLE_10:["Œuvre du domaine public"],LICENSE_DESC_10:["Vous pouvez utiliser cette œuvre, car les droits d'auteur sont arrivés à expiration."],TRENDING:["Tendances"],GROUP_YOUR_BEST_SHOT:["Your Best Shot 2015"],GROUP_YOUR_BEST_SHOT_2016:["Votre meilleure photo 2016"],DELETED_USER:["supprimé"],EXPLORE_SLOW:["Nous ne parvenons pas à afficher Explore actuellement. Veuillez réessayer."],MODULES_BLOCKED:["Une erreur s’est produite lors du chargement des modules nécessaires à l’affichage de cette page.  Désactivez les extensions de navigateur qui peuvent bloquer les ressources de page.<br><br>Après avoir désactivé les extensions, cliquez sur OK pour recharger la page ou sur Annuler si vous souhaitez continuer à parcourir la page (vous risquez toutefois de ne pas pouvoir effectuer toutes les opérations)."],HOME:["Accueil"],MAIN:["Principale"],SECONDARY:["Secondaire"],FILTER:["Filtre"],CLOSE:["Fermer"],USER_ICON:["icône d’utilisateur"],GROUP_ICON:["icône de groupe"],AD_ICON:["icône d’annonce"],ADD_TO_FAVORITES:["Ajouter aux favoris"],LEFT_ARROW:["Flèche gauche"],RIGHT_ARROW:["Flèche droite"],DONT_SHOW_IN_FEED:["Ne pas afficher dans mon flux"],SHOW_IN_FEED:["Afficher dans mon flux"],SEARCH_FOR_SIMILAR_PHOTOS:["Rechercher des photos semblables"],SEARCH_FOR_SIMILAR_PHOTOS_WITH_TERM:["Rechercher des photos semblables avec le terme de recherche d’origine"],FAVES_SHORT:["Favoris"],GROUP_BAN_USER:["Exclure un utilisateur du groupe"],GROUP_BAN_USER_REMOVE_PHOTOS:["Exclure un utilisateur et supprimer ses photos du groupe"],GROUP_REMOVE_USER:["Supprimer un utilisateur du groupe"],GROUP_REMOVE_USER_REMOVE_PHOTOS:["Supprimer un utilisateur et ses photos du groupe"],REFRESH:["Rafraîchir"],ALMOST_DONE:["C’est presque fini..."],GROUPS:["Groupes"],"404_PHOTOSTREAM_DELETED":["La galerie que vous recherchez n’existe plus."],"404_PHOTOSTREAM_NONEXISTENT":["La galerie que vous recherchez n’existe pas."],"404_PROFILE_DELETED":["Le profil que vous recherchez n’existe plus."],"404_PROFILE_NONEXISTENT":["Le profil que vous recherchez n’existe pas."],"404_PHOTO_VIDEO_NONEXISTENT":["La photo ou la vidéo que vous recherchez n’existe plus."],"404_PHOTO_VIDEO_PRIVATE":["Vous n’êtes pas autorisé à voir cette photo ou cette vidéo."],"404_ALBUM_NONEXISTENT":["L’album que vous recherchez n’existe pas."],"404_ALBUM_PRIVATE":["Vous n’êtes pas autorisé à voir cet album."],"404_GROUP_NONEXISTENT":["Le groupe que vous recherchez n’existe pas."],"404_GROUP_PRIVATE":["Vous n’êtes pas autorisé à voir ce groupe."],"404_GROUP_TOPIC_NONEXISTENT":["Le sujet de discussion que vous recherchez n’existe pas."],"404_GROUP_REPLY_NONEXISTENT":["La réponse à la discussion que vous recherchez n’existe pas."],"404_EXPLORE_NONEXISTENT":["Aucune photo pour la date demandée."],"404_PERSON_NONEXISTENT":["Le compte que vous recherchez n’existe pas."],"404_DOWNLOAD_NONEXISTENT":["Le téléchargement que vous recherchez n’existe pas."],"404_GALLERY_NONEXISTENT":["L'expo que vous recherchez n’existe pas."],DISMISS:["Fermer"],BLURB:["Blurb"],ALPHA_GROUP_SHARE_FEEDBACK:['Cette nouvelle fonctionnalité Flickr n’est visible que par les membres du groupe Alpha. Partagez vos avis <a href="',"${url}",'" target="_blank">ici</a>.'],JUSTIFIED_VIEW:["Affichage justifié"],THUMBNAIL_VIEW:["Affichage miniatures"],TILE_VIEW:["Affichage Vignettes"],LARGE_VIEW:["Vue haute résolution"],ITEM_COUNT_FORMATTED:[{type:"plural",valueName:"itemCount",options:{one:["${countString}"," élément"],other:["${countString}"," éléments"]}}],PHOTO_COUNT_FORMATTED:[{type:"plural",valueName:"photoCount",options:{one:["${countString}"," photo"],other:["${countString}"," photos"]}}],VIDEO_COUNT_FORMATTED:[{type:"plural",valueName:"videoCount",options:{one:["${countString}"," vidéo"],other:["${countString}"," vidéos"]}}],VIEW_COUNT_FORMATTED:[{type:"plural",valueName:"viewCount",options:{one:["${countString}"," vue"],other:["${countString}"," vues"]}}],COMMENT_COUNT_FORMATTED:[{type:"plural",valueName:"commentCount",options:{one:["${countString}"," commentaire"],other:["${countString}"," commentaires"]}}],FAVE_COUNT_FORMATTED:[{type:"plural",valueName:"faveCount",options:{one:["${countString}"," favori"],other:["${countString}"," favoris"]}}],ALBUM_LABEL:["Album"],GALLERY_LABEL:["Expo"],BY_USER_WITH_URL:['par <a href="',"${userUrl}",'">',"${username}","</a>"],BY_USER_WITH_URL_TARGET_BLANK:['de <a href="',"${userUrl}",'" target="_blank">',"${username}","</a>"],ADD:["AJOUTER"],ITEMS:["Éléments"],FLICKR_LOVES_OLD_SCHOOL_PROS:["Flickr ♥ les habitués de la version Pro"],MODIFIED_FROM_WITH_LICENSE:['Modifiée à partir de<a href="',"${userUrl}",'">',"${user}",'</a>, <a href="',"${licenseUrl}",'">',"${licenseName}","</a>"],PHOTO_BY_WITH_LICENSE:['Photo de <a href="',"${userUrl}",'">',"${user}",'</a>, <a href="',"${licenseUrl}",'">',"${licenseName}","</a>"],PHOTOS_BY_MULTIPLE_WITH_LICENSE:['Photos de <a href="',"${user1Url}",'">',"${user1}",'</a>, <a href="',"${user2Url}",'">',"${user2}",'</a> et <a href="',"${user3Url}",'">',"${user3}",'</a>, <a href="',"${licenseUrl}",'">',"${licenseName}","</a>"],LOG_OUT:["Déconnexion"],REMIND_ME_LATER:["Me rappeler ultérieurement"],GET_FLICKR_PRO:["Acheter Flickr Pro"],ERROR_UH_OH:["Désolé !"],DR_SOMETHING_WENT_WRONG_ERROR_MESSAGE:['Vérifiez les modules d’extension et les bloqueurs de publicité du navigateur, puis réessayez. Si le problème persiste, contactez-nous sur <a href="https://help.flickr.com" target="_blank">https://help.flickr.com</a>.'],SUPPORT:["Assistance"],GOT_IT:["OK"],VIDEO_STREAMING_OFF:["La diffusion vidéo n'est pas disponible actuellement. Plus d’infos : <a href=\"","${url}",'">lien</a>'],VIDEO_STILL_PROCESSING:['Cette vidéo est en cours de traitement. Cette opération peut prendre quelques minutes. Plus d’infos : <a href="',"${url}",'">lien</a>'],HAVE_A_FLICKR_ACCOUNT:["Vous avez un compte Flickr ?"],HI_MESSAGE_GREETING:["Bonjour ","${username}",","],MYSTERIOUS_PLACE:["Un lieu mystérieux sans nom"],NEW_TITLE:["Nouveauté !"],GO_BACK_BUTTON:["Retour"],EVENTS:["Événements"],SMUG_FLICKR_FOOTER_ATTRIBUTION:['<a class="smug-link" href="',"${smugUrl}",'">SmugMug</a>+<a class="flickr-link" href="',"${flickrUrl}",'">Flickr</a>.'],CONNECTING_PEOPLE_THROUGH_PHOTOGRAPHY:["Rapprocher les personnes grâce à la photographie."],UPGRADE_PRO_HIDE_ADS:["Passez à Flickr Pro pour masquer ces annonces"],LOAD_MORE:["Charger plus"],VIEW_MORE_LOWER:["afficher plus"],VIEW_LESS_LOWER:["afficher moins"],AD_INTERSTITIAL_TIMER:["Continuer dans ","${adTimerStartCount}"," s"],WHATS_NEW:["Quoi de neuf ?"],VIEW_MORE:["Afficher plus"],SMALL_PORTRAIT:["Petit portrait"],MEDIUM_PORTRAIT:["Portrait moyen"],LARGE_PORTRAIT:["Grand portrait"]})},"@VERSION@",{requires:["intl"]});YUI.add("model-proxy",function(e,t){var r=require("hermes-core/flog")(t);e.getModelProxyConstructor=function(t){var o;return o=function(e){this.id=e,this.registry=t,this.isModel=!0},o.prototype={},e.getModelProxyConstructor.skipList.forEach(function(e){o.prototype[e]=function(){var t=new Error("Registry methods are not exposed on models.");throw r.error({err:t,method:e}),t}}),e.Object.each(t,function(r,n){o.prototype[n]||0!==n.indexOf("_")&&e.Lang.isFunction(r)&&(Object.keys(r.prototype).length>0||(o.prototype[n]=(function(e){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;++o)r[o]=arguments[o];return r.unshift(this.id),t[e].apply(t,r)}})(n)))},this,!0),o},e.getModelProxyConstructor.skipList=["add","get","load","proxy","remoteRead","remoteCreate","attributeSearch","removeAll","getCount","serialize","deserialize"]},"@VERSION@",{requires:[]});YUI.add("flickr-collection",function(t){var i,n={};(i=t.FlickrCollection=function(t,i,n){this.registry=t,this.id=i,this.attrName=n,this._data=[],this.fetchedStart=!1,this.fetchedEnd=!1,this.totalItems=Number.MAX_VALUE}).prototype={constructor:i,push:function(t){var i=this._data.concat();i.push(t),this.registry.setValue(this.id,this.attrName,i)},unshift:function(t){var i=this._data.concat();i.unshift(t),this.registry.setValue(this.id,this.attrName,i)},concat:function(t){var i=this._data.concat(t);this.registry.setValue(this.id,this.attrName,i)},remove:function(t){"string"==typeof t&&(t={id:t});var i,n=this.find(t,!0);return n&&((i=this._data.concat()).splice(n.index,1),this.registry.setValue(this.id,this.attrName,i)),n&&n.value},find:function(t,i){if(!t)return null;var n=null,e=Object.keys(t);return this._data.some(function(i,r){if(i)return e.every(function(n){return i[n]===t[n]})?(n={value:i,index:r},!0):void 0}),i?n:n?n.value:null},getFirstItem:function(){var t,i;for(t=0;t<this._data.length;t++)if(i=this._data[t])return{item:i,index:t};return null},getLastItem:function(){var t,i;for(t=this._data.length-1;t>=0;t--)if(i=this._data[t])return{item:i,index:t};return null},getList:function(){return this._data.concat()},size:function(){return this._data.length},toJSON:function(){var i=[];return t.Array.each(this.getList(),function(t){t&&i.push(t.toJSON())}),i},toString:function(){return this.registry.name+'["'+this.attrName+'"]'},appendToListMulti:function(t){this.concat(t)},appendToList:function(t){this.push(t)},prependToList:function(t){this.unshift(t)},getFromListByID:function(t,i){var n={};return n[i||"id"]=t,this.find(n)||void 0},removeFromList:function(t,i){var n={};return n[i||"id"]=t,this.remove(n)},hasMinBoundary:function(){return this.fetchedStart},hasMaxBoundary:function(){return this.fetchedEnd},_setValue:function(t){this._data=t}},t.FlickrCollection.executeFetch=function(i,e,r,a){var s;return a&&t.Lang.isFunction(a.run)?(s=JSON.stringify(i),n[s]||(n[s]=a.run.call(a,i,e.appContext).then(function(t){return delete n[s],t},function(t){throw delete n[s],t}),n[s])):t.Promise.reject("(flickr-collection::executeFetch) invalid fetcher for "+e.name+"["+r+"]")},t.FlickrCollection.trimArray=function(t){for(var i=0,n=t.length-1;i<t.length&&!t[i];)i++;for(;n>i&&!t[n];)n--;return t.slice(i,n+1)}},"@VERSION@",{requires:[]});YUI.add("paged-collection",function(t,e){var a=require("hermes-core/flog")(e);t.PagedCollection=function(t,e,a,s){this.constructor.superclass.constructor.call(this,t,e,a),s&&(s instanceof Array&&(s={pageContent:s,page:1,perPage:s.length}),s.totalPages&&(this.totalPages=s.totalPages),void 0===typeof s.totalItems||isNaN(parseFloat(s.totalItems))||(this.totalItems=parseFloat(s.totalItems)),this.fetchedStart=!!s.fetchedStart,this.fetchedEnd=!!s.fetchedEnd,this.addPage(s))},t.extend(t.PagedCollection,t.FlickrCollection,{getPage:function(e){var a,s,i,o,r,n,h;if(e&&e.page&&e.perPage&&!e.forceAPICall){if(n=this.totalPages&&e.page>=this.totalPages,h=this.totalItems&&s>=this.totalItems,a=e.perPage*(e.page-1),s=Math.min(e.perPage*e.page,this.totalItems),!n&&!h||!this.fetchedEnd)for(i=a;i<s;i++)if(void 0===this._data[i]||!this._data[i].exists()){o=!0;break}}else e||(e={}),o=!0;return o?(e.pathAlias||(e.id=this.id),e.isCollection=!0,(r=this.registry.attributes[this.attrName].pageFetch).fetchParams&&(e=t.merge(e,r.fetchParams)),t.FlickrCollection.executeFetch(e,this.registry,this.attrName,r.listFetcher)):t.Promise.resolve(this._data.slice(a,s))},addPage:function(t){var e,a,s=t.perPage*(t.page-1),i=s+Math.min(t.pageContent.length,t.perPage),o=0;if(t.forceAppend)this._data=this._data.concat(t.pageContent);else if(this._data.length<=s)this._data.length=s,this._data=this._data.concat(t.pageContent);else for(this._data.length<i&&(this._data.length=i),e=s;e<i;e++)this._data[e]=t.pageContent[o],o++;t.totalPages&&(this.totalPages=t.totalPages,t.page>=this.totalPages&&(this.fetchedEnd=!0)),void 0===typeof t.totalItems||isNaN(parseFloat(t.totalItems))||(a=parseFloat(t.totalItems),this.totalItems=a,this._data.length>=a?this.fetchedEnd=!0:s+parseInt(t.perPage,10)>a&&this._data.length<a&&(this.fetchedEnd=!0)),this.fetchedStart=this._data&&void 0!==this._data[0]},removePage:function(t){},getPageOf:function(t,e){e||(a.warn("`perPage` must be specified; defaulting to 50."),e=50);var s=this.find(t,!0);return s?Math.floor(s.index/e)+1:-1},getNextIncompletePage:function(t){var e=t.page*(t.perPage-1),a=Math.floor(this._data.length/t.perPage)+1;for(e;e<this._data.length;e++)if(void 0===this._data[e]||!this._data[e].exists()){a=Math.floor(e/t.perPage)+1;break}return a},_setValue:function(e){if(e instanceof Array)this.constructor.superclass._setValue.call(this,e);else{if(!(e=(function(e){return e?(e instanceof Array&&(e={pageContent:e}),e=t.merge({page:1,perPage:0,pageContent:[]},e)):(a.warn("No pageData sent to PagedCollection; aborting."),null)})(e)))return;e.remove?this.removePage(e):this.addPage(e)}}})},"@VERSION@",{requires:["flickr-collection"]});YUI.add("flickr-model-registry",function(e,t){function i(t,s,a){return!1===a&&"string"==typeof t&&"string"==typeof s&&(t=t.toLowerCase(),s=s.toLowerCase()),t===s||(e.moment.isMoment(t)&&e.moment.isMoment(s)?0===t.diff(s):!!(e.Lang.isArray(t)&&e.Lang.isArray(s)&&(function(t,s){var a=!0;t.length!==s.length&&(a=!1);a&&e.Array.some(t,function(e,t){if(!i(s[t],e))return a=!1,!0});return a})(t,s))||!!(e.Lang.isObject(t,!0)&&e.Lang.isObject(s,!0)&&(function(t,s){var a=!0;e.Object.size(t)!==e.Object.size(s)&&(a=!1);a&&e.Object.some(t,function(e,t){if(!s.hasOwnProperty(t)||!i(s[t],e))return a=!1,!0});a&&e.Object.some(s,function(e,s){if(!t.hasOwnProperty(s)||!i(t[s],e))return a=!1,!0});return a})(t,s)))}function s(t){var i=t;return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Array.prototype?(i=t.slice(),void 0!==t.hasMinBoundary&&(i.hasMinBoundary=t.hasMinBoundary),void 0!==t.hasMaxBoundary&&(i.hasMaxBoundary=t.hasMaxBoundary)):Object.getPrototypeOf(t)===Object.prototype&&(i={},e.Object.each(t,function(e,t){i[t]=e},this))),i}var a=require("hermes-core/flog")(t);e.Models={};var r=e.FlickrModelRegistry=function(t){this.appContext=t,this.attributes=this.attributes||{},this.attributes.id={writeOnce:"initOnly",setter:function(t){return e.Lang.isString(t)||(e.Lang.isNumber(t)?t+="":(a.info("`id` falling back to a Y.guid",{topic:this.name,val:t}),t=e.guid())),t}},this._setDefaultRemoteMethods(),this._validateAttributes(),this._data={},this._dataSize=0,this._subscribers=[],this.hasWeakSubscribers=!1,this._chainedEvents={},this._derivedCache=void 0,this._unsavedModels={}};r.prototype={attributeSearch:function(t,s){var a=[];return t.id?a.push(t.id):e.Object.each(this._data,function(r,n){var o=!0;e.Object.some(t,function(e,t){if(!i(e,r[t],!1)){if(!0!==s)return o=!1,!0;if(!i(e,this.getDefaultValue(r.id,t),!1))return o=!1,!0}},this),o&&a.push(n)},this),a},load:function(t,i){var s,a,r=this;return i||(i={}),e.Lang.isObject(t,!0)?(s=this.attributeSearch(t).sort()[0],i=e.merge(t,i||{})):(s=t,i=e.merge({id:s},i)),s&&this.exists(s)?e.Promise.resolve(s):(this._fetchPromises||(this._fetchPromises={}),a=s||JSON.stringify(i),this._fetchPromises[a]?this._fetchPromises[a]:(this._fetchPromises[a]=this.remoteRead(i).then(function(){var e,i,n=s;if(s||(e=r.attributeSearch(t)).length>0&&(n=e[0]),delete r._fetchPromises[a],n&&r.exists(n))return n;throw i=new Error("["+r.name+"] Model ID is missing after fetching."),i.getModelFailure=!0,i}),this._fetchPromises[a]))},get:function(e,t){return this.load(e,t).then(this.proxy.bind(this))},add:function(t,i,s){var r;{if(e.Lang.isObject(t,!0)&&!e.Lang.isArray(t))return void 0===i&&(i=!1),r=this.attributes.id.setter.apply(this,[t.id,void 0]),this._data[r]?a.warn("Attempt to add a model that is already in the registry.",{topic:this.name,id:r}):(this._data[r]={},this._dataSize++,this._queueEvent("modelsAdded",{id:r}),i?this._data[r]=t:Object.keys(this.attributes).forEach(function(e){var i=this.attributes[e],a=t[e];i.readOnly||this.setValue(r,e,a,!0,s)},this),this.appContext.markAsNewlyFetched(this.name,r)),this.proxy(r);a.warn("`add` requires an object",{topic:this.name,data:t})}},remove:function(e){this.exists(e)&&(delete this._data[e],this._dataSize--,this._removeChainedEvents(e),this._removeEventSubscribers(e),this._queueEvent("modelsRemoved",{id:e}))},removeAll:function(){e.Object.each(this._data,function(e,t){this.remove(t)},this)},removeAllExcept:function(t){var i=t.reduce(function(e,t){return e[t]=!0,e},{});e.Object.each(this._data,function(e,t){i[t]||this.remove(t)},this)},_removeChainedEvents:function(t){var i;this._chainedEvents[t]&&(e.Object.each(this._chainedEvents[t],function(t,s){(i=this.attributes[s])&&(i.isModel?t.detach():(i.isListProxy||i.isCollection)&&e.Array.each(t,function(e){e.detach&&e.detach()}))},this),delete this._chainedEvents[t])},_removeEventSubscribers:function(t){var i=[];this._subscribers.length&&(e.Array.each(this._subscribers,function(e,s){e.id===t&&i.push(s)},this),e.Array.each(i,function(e){this._subscribers.splice(e,1)},this))},proxy:function(t){return this._ModelProxy||(this._ModelProxy=e.getModelProxyConstructor(this)),new this._ModelProxy(t)},getValue:function(t,i,r){var n,o,h;if(t&&i)if(this.exists(t)){if(o=this.attributes[i])return o.isListProxy?n=new e.ListProxy(this,t,i):(void 0===(n=this._data[t][i])&&(n=this.getDefaultValue(t,i)),h=o.getter,!r&&h&&(n=h.apply(this,[n,t])),n=s(n)),n;a.warn("`getValue` called for an attribute that isn't defined",{topic:this.name,id:t,attr:i})}else a.warn("`getValue` called for an id that doesn't exist in the registry.",{topic:this.name,id:t,attr:i});else a.warn("`getValue` requires two arguments.",{topic:this.name,id:t,attr:i})},setValue:function(t,r,n,o,h){var d,u,l,c,f,v,g;if(!t||!r||arguments.length<3)a.warn("`setValue` requires three arguments.",{topic:this.name,id:t});else if(this.exists(t))if(d=this.attributes[r])if(d.readOnly)a.warn("Attribute is readOnly.",{topic:this.name,id:t,attr:r});else if("initOnly"!==d.writeOnce||o)if(!0===d.writeOnce&&this._data[t][r])a.warn("Attribute can only be set once.",{topic:this.name,id:t,attr:r});else{if(l=this.getValue(t,r),c=this._data[t][r],d.isListProxy&&(l=c),!h&&d.validator){if(v=d.validator,!e.Lang.isFunction(v))return void a.warn("Attribute has an invalid validator.",{topic:this.name,validator:d.validator,attr:r});if(!v.apply(this,[n,t]))return void a.info("Attribute validation failed.",{topic:this.name,id:t,val:n,attr:r})}n=s(n),!h&&d.setter&&(n=d.setter.apply(this,[n,t])),d.isListProxy&&!e.Lang.isArray(n)&&(n=[]),d.isCollection&&(n?"object"==typeof n&&n instanceof e.PagedCollection||(l?(c=l.getList(),l._setValue(n),n=l):(c=null,n=new e.PagedCollection(this,t,r,n))):n=new e.PagedCollection(this,t,r)),this._isDifferentValue(t,r,n,l)&&(!d.isModel||e.Lang.isObject(n)&&n.isModel?(o||(u=this._getAttributeValuesDerivedBy(t,r)),this._data[t][r]=n,d.isListProxy&&n&&(n.hasMinBoundary&&this.getValue(t,r).setMinBoundary(),n.hasMaxBoundary&&this.getValue(t,r).setMaxBoundary()),(d.isModel||d.isListProxy||d.isCollection)&&this._chainEvents(t,r),o||(f=this.getValue(t,r),d.isListProxy||d.isCollection||this._setUnsaved(t,r,f,l,c),g={id:t,attrName:r,prevVal:l,newVal:f},d.isListProxy?g.listDiff=this._calcListDiff(f,l):d.isCollection&&(g.listDiff=this._calcListDiff(f,c)),this._queueEvent("valuesChanged",g),e.Object.size(u)&&e.Object.each(u,function(e,s){var a=this.getValue(t,s);i(a,e)||(g={id:t,attrName:s,prevVal:e,newVal:a,derivedBy:[r]},(this.attributes[s].isListProxy||this.attributes[s].isCollection)&&(g.listDiff=this._calcListDiff(a,e)),this._queueEvent("valuesChanged",g))},this))):a.warn("Attribute must be a ModelProxy instance.",{topic:this.name,id:t,attr:r}))}else a.warn("Attribute can only be set during initialization.",{topic:this.name,id:t,attr:r});else a.warn("Attribute is not present in the attributes list.",{topic:this.name,id:t,attr:r});else a.warn("`setValue called for an id that is not in the registry.",{topic:this.name,id:t})},setValues:function(t,i){var s={};e.Object.each(i,function(e,i){"id"!==i&&(s[i]=this.setValue(t,i,e))},this)},revertValue:function(e,t){this._unsavedModels[e]&&void 0!==this._unsavedModels[e][t]&&this.setValue(e,t,this._unsavedModels[e][t].lastSavedValRaw)},exists:function(t){var i;return i=e.Lang.isArray(t)?t[0]:e.Lang.isObject(t,!0)?this.attributeSearch(t)[0]:t,!!this._data[i]},addOrUpdate:function(e){if(this.exists(e.id)){var t,i;Object.keys(e).forEach(function(s){t=this.attributes[s],i=e[s],t&&!t.readOnly&&"initOnly"!==t.writeOnce&&this.setValue(e.id,s,i)},this)}else this.add(e);return this.appContext.markAsNewlyFetched(this.name,e.id),this.markChildModelsAsNewlyFetched(e.id),this.proxy(e.id)},markChildModelsAsNewlyFetched:function(e){var t=this;this.getOwnedModels(e).forEach(function(e){e&&(t.appContext.markAsNewlyFetched(e.registry.name,e.id),e.markChildModelsAsNewlyFetched(e.id))})},getOwnedModels:function(t){var i,s,r,n=[];if(!t)return a.warn("`getOwnedModels` requires a model id.",{topic:this.name,id:t}),n;if(!this.exists(t))return n;this._ModelProxy||(this._ModelProxy=e.getModelProxyConstructor(this));for(i in this.attributes)(s=this.attributes[i]).isModel?(r=this.getValue(t,i))&&r.exists()&&n.push(r):(s.isListProxy||s.isCollection)&&(n=n.concat(this.getValue(t,i).getList().filter(function(e){return e&&e.isModel&&e.exists()})));return n},hasAttribute:function(e){return!!this.attributes[e]},toJSON:function(e){var t,i,s={};if(e)for(t in this.attributes)s[t]=this.getValue(e,t),s[t]&&(this.attributes[t].isModel||this.attributes[t].isListProxy||this.attributes[t].isCollection)&&(s[t]=s[t].toJSON());else for(i in this._data)s[i]=this.toJSON(i);return s},on:function(t,i,s,a){var r;return t||(t=null),r={eventName:i,fn:s,id:t,weak:a},this._subscribers.push(r),a&&(this.hasWeakSubscribers=!0),{detach:function(){var t=e.Array.indexOf(this._subscribers,r);this._subscribers.splice(t,1)}.bind(this)}},removeWeakSubscribers:function(){var e=this._subscribers.length;if(e)for(;e--;)this._subscribers[e].weak&&this._subscribers.splice(e,1);this.hasWeakSubscribers=!1},getCount:function(){return this._dataSize},getDefaultValue:function(e,t){var i,s;return"function"==typeof(i=this.attributes[t]).defaultFn&&(s=i.defaultFn.call(this,e)),void 0===s&&void 0!==i.defaultValue&&(s=i.defaultValue),s},_isDifferentValue:function(e,t,s,a){var r=this.attributes[t],n=r.getter;if(n&&(s=n.apply(this,[s,e])),void 0!==r.isListProxy&&r.isListProxy&&void 0!==a){if(s.hasMaxBoundary!==(void 0!==a.hasMaxBoundary&&a.hasMaxBoundary)||s.hasMinBoundary!==(void 0!==a.hasMinBoundary&&a.hasMinBoundary))return!0}else if(r.isCollection)return!0;return!i(s,a)},_calcListDiff:function(t,i){var s,a,r,n,o={added:null,removed:null};return s=t instanceof e.ListProxy||t instanceof e.PagedCollection?t.getList():t,a=i instanceof e.ListProxy||i instanceof e.PagedCollection?i.getList():i,r=a.reduce(function(e,t){return t&&t.id&&(e[t.id]=!0),e},{}),n=s.reduce(function(e,t){return t&&t.id&&(e[t.id]=!0),e},{}),o.added=s.filter(function(e){return e&&!r[e.id]}),o.removed=a.filter(function(e){return e&&!n[e.id]}),o},_getAttributesDerivedBy:function(t){return this._derivedCache||(this._derivedCache={},e.Object.each(this.attributes,function(t,i){t.derivedBy&&e.Lang.isArray(t.derivedBy)&&e.Array.each(t.derivedBy,function(e){this._derivedCache[e]||(this._derivedCache[e]=[]),this._derivedCache[e].push(i)},this)},this)),this._derivedCache[t]},_getAttributeValuesDerivedBy:function(t,i){var s=this._getAttributesDerivedBy(i),a={};return s&&s.length&&e.Array.each(s,function(e){a[e]=this.getValue(t,e)},this),a},_queueEvent:function(t,i){var s;this._eventQueue||(this._eventQueue=[]),(s=this._eventQueue).push({type:t,data:i}),this._eventPending||(this._eventPending=!0,setTimeout(function(){var t={};this._eventPending=!1,delete this._eventQueue,e.Array.each(s,function(e){var i=e.type,s=e.data,a=s.id;switch(i){case"modelsAdded":case"modelsRemoved":t[i]=t[i]||{},t[i][a]=s;break;case"valuesChanged":if(t.valuesChanged&&t.valuesChanged[a]&&t.valuesChanged[a][s.attrName]&&t.valuesChanged[a][s.attrName].newVal){t.valuesChanged[a][s.attrName].newVal=s.newVal,t.valuesChanged[a][s.attrName].derivedBy&&s.derivedBy&&(t.valuesChanged[a][s.attrName].derivedBy=t.valuesChanged[a][s.attrName].derivedBy.concat(s.derivedBy)),t.valuesChanged[a][s.attrName].chained&&!s.chained&&delete t.valuesChanged[a][s.attrName].chained;break}t.valuesChanged=t.valuesChanged||{},t.valuesChanged[a]=t.valuesChanged[a]||{},t.valuesChanged[a][s.attrName]=s}}),e.Object.each(t,function(e,t){this._fireEvent(t,e)},this)}.bind(this),0))},_fireEvent:function(t,i){e.Array.each(this._subscribers,function(e){e.eventName===t&&(e.id?i[e.id]&&e.fn.call(void 0,i[e.id]):e.fn.call(void 0,i))})},_chainEvents:function(t,i){var s,a,r=this.attributes[i];this._chainedEvents[t]=this._chainedEvents[t]||{},r.isModel?(this._chainedEvents[t][i]&&this._chainedEvents[t][i].detach(),a=this.getValue(t,i),this._chainedEvents[t][i]=a.on("valuesChanged",function(e){this._queueChainedEvent(t,i)}.bind(this))):(r.isListProxy||r.isCollection)&&(this._chainedEvents[t][i]&&e.Array.each(this._chainedEvents[t][i],function(e){e.detach()}),this._chainedEvents[t][i]=[],s=this.getValue(t,i),e.Array.each(s.getList(),function(e){e&&this._chainedEvents[t][i].push(e.on("valuesChanged",function(e){this._queueChainedEvent(t,i)}.bind(this)))},this))},_queueChainedEvent:function(t,i){var s,a=this.getValue(t,i);this._queueEvent("valuesChanged",{id:t,attrName:i,prevVal:a,newVal:a,chained:!0}),s=this._getAttributeValuesDerivedBy(t,i),e.Object.size(s)&&e.Object.each(s,function(e,s){this._queueEvent("valuesChanged",{id:t,attrName:s,newVal:e,derivedBy:[i],chained:!0})},this)},_deleteUnsaved:function(t,i){this._unsavedModels[t]&&this._unsavedModels[t][i]&&(delete this._unsavedModels[t][i],0===e.Object.size(this._unsavedModels[t])&&delete this._unsavedModels[t])},_setUnsaved:function(e,t,s,a,r){this._unsavedModels[e]&&this._unsavedModels[e][t]?i(s,this._unsavedModels[e][t].lastSavedVal)&&this._deleteUnsaved(e,t):(this._unsavedModels[e]=this._unsavedModels[e]||{},this._unsavedModels[e][t]={lastSavedVal:a,lastSavedValRaw:r})},_validateAttributes:function(){var t,i;t=["setter","getter","validator","defaultValue","defaultFn","derivedBy","readOnly","writeOnce","isModel","serialize","deserialize"],i=["isListProxy","isCollection","pageFetch","contextFetch","rangeFetch"],e.Object.each(this.attributes,function(s,r){e.Object.each(s,function(n,o){s.isListProxy||s.isCollection?-1===e.Array.indexOf(i,o)&&a.warn("Unknown property on collection attribute.",{topic:this.name,prop:o,attr:r}):-1===e.Array.indexOf(t,o)&&a.warn("Unknown property on attribute.",{topic:this.name,prop:o,attr:r})},this)},this)},_setDefaultRemoteMethods:function(){this.remote=this.remote||{},this.remote.create||(this.remote.create=function(t){return a.error("`remote.create` was called without being implemented.",{topic:this.name,attrs:t}),e.Promise.reject()}),this.remote.read||(this.remote.read=function(t){Object.keys(this.attributes).some(function(e){var t=this.attributes[e];if(!("id"===e||t.readOnly||t.isListProxy||t.isCollection||t.defaultValue||t.defaultFn))return!0},this),"object"!=typeof t&&(t={id:t});var i={id:t.id};return this.add(i),e.Promise.resolve(i)}),this.remote.update||(this.remote.update=function(t,i){return a.error("`remote.update` was called without being implemented.",{topic:this.name,id:t,attrs:i}),e.Promise.reject()}),this.remote.delete||(this.remote.delete=function(t){return a.error("`remote.delete` was called without being implemented.",{topic:this.name,id:t}),e.Promise.reject()})},remoteCreate:function(e){return this.remote.create.call(this,e)},remoteRead:function(e){return this.remote.read.call(this,e)},remoteUpdate:function(t){var i={},s=this;return this._unsavedModels[t]&&e.Object.each(this._unsavedModels[t],function(e,s){i[s]={newVal:this.getValue(t,s),prevVal:e.lastSavedVal}},this),e.Object.size(i)>0?this.remote.update.call(this,t,i).then(function(e){return s._unsavedModels={},e}):e.Promise.resolve()},remoteBatchUpdate:function(e,t){return this.remote.batchUpdate.call(this,e,t)},remoteDelete:function(e){var t=this;return this.remote.delete.call(this,e).then(function(){t.remove(e)})},getListPageByContinuation:function(t,i){var s,a,r,n,o,h,d,u,l,c,f=this,v=f.appContext,g=e.APIHelper.request.getRebootPhotoExtras();switch(f.name){case"photo-groups-models":s="group-pool-models",a="groups",r="flickr.photos.getGroups",n="groups.group",g+=","+e.APIHelper.request.getRebootGroupExtras();break;case"photo-sets-models":s="set-models",a="sets",r="flickr.photos.getSets",n="sets.set";break;case"photo-galleries-models":s="gallery-models",a="galleries",r="flickr.photos.getGalleries",n="galleries.gallery"}return r?f.exists(t)?(f.continuationKeys=f.continuationKeys||{},f.getMorePromises=f.getMorePromises||{},"-1"===(h=f.continuationKeys[t]||"0")?e.Promise.resolve({newItems:[],loadedAll:!0}):("0"===h&&(i+=f.getValue(t,a).getList().length),o={photo_id:t,extras:g,primary_photo_extras:"url_sq, url_t, url_s, url_m",continuation:h,per_page:i},u=t+"_"+h,(l=f.getMorePromises[u])?l:(c={apiResponse:v.callAPI(r,o,!0),contextRegistry:v.getModelRegistry(s),personRegistry:v.getModelRegistry("person-models")},"photo-groups-models"===f.name&&(c.groupRegistry=v.getModelRegistry("group-models")),f.getMorePromises[u]=new e.FlickrPromise(c).then(function(i){var s,r,o,h=[],l=i.apiResponse,c=i.contextRegistry,v=i.personRegistry,g=i.groupRegistry;return(r=n.split(".").reduce(function(t,i){return e.Lang.isObject(t)?t[i]:void 0},l))&&(e.Array.each(r,function(t){e.APIHelper.response.addContextToRegistry(t,c,v,g),h.push(c.proxy(t.id))}),h.length&&(o=f.getValue(t,a).getList().map(function(e){return e.getValue("id")}),(h=h.filter(function(e){return-1===o.indexOf(e.getValue("id"))})).length&&f.getValue(t,a).appendToListMulti(h))),void 0===(d=l[a].continuation)?d="-1":e.Lang.isNumber(d)&&(d+=""),s="-1"===d,f.continuationKeys[t]=d,delete f.getMorePromises[u],{newItems:h,loadedAll:s}},function(e){throw delete f.getMorePromises[u],e}),f.getMorePromises[u]))):e.Promise.reject("[api-helper] getListPageByContinuation was called for an ID that isn't in the registry: "+t):e.Promise.reject("[api-helper] getListPageByContinuation was called without an invalid registry type: "+f.name)},getBuriedValue:function(e,t){var i,s={};return(i=this.getValue(e,t))&&i.payload&&(s=i.payload),s},setBuriedValue:function(e,t,i,s){return this.setValue(e,t,{payload:i},s)}},e.mix(r.prototype,e.Localizable)},"@VERSION@",{requires:["flickr-promise","model-proxy","list-proxy","moment","paged-collection","localizable"]});YUI.add("flickr-subscriptions-changePlan-updater",function(r,e){"use strict";r.namespace("ModelUpdaters")["flickr-subscriptions-changePlan-updater"]={run:function(n,c){return c.callAPI("flickr.subscriptions.changePlan",n).then(null,r.FetcherErrorLogger(e))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-braintree-close-deletor",function(e,r){"use strict";e.namespace("ModelDeletors")["flickr-braintree-close-deletor"]={run:function(l,c){return c.callAPI("flickr.subscriptions.braintree.close",l).then(null,e.FetcherErrorLogger(r))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("timezone-helper",function(t){"use strict";t.TimezoneHelper=function(e,i,s){s?(this.tz=s,this.dst=!1):(this.tz=e.getViewer().prefs.timezonePref.offset,this.dst=e.getViewer().prefs.timezonePref.dst),this.momentObject=t.moment(i,"X"),this.momentObject.utcOffset(this.tz),this.dst&&this.momentObject.isDST()&&this.momentObject.add(1,"hour")},t.TimezoneHelper.prototype.toFormat=function(t){return this.momentObject.format(t)}},"@VERSION@",{requires:["moment"]});YUI.add("subscriptions-helper",function(t){"use strict";t.SubscriptionsHelper=function(){this.FLICKR_PRO_3_MONTH_PLAN_ID=1,this.FLICKR_PRO_1_YEAR_PLAN_ID=2,this.FLICKR_PRO_2_YEARS_PLAN_ID=3,this.FLICKR_PRO_MONTHLY_PLAN_ID=7,this.FLICKR_PRO_ANNUAL_PLAN_ID=8,this.FLICKR_PRO_ANNUAL_TRIAL=9,this.FLICKR_PRO_OLD_ANNUAL_TRIAL=10,this.FLICKR_PRO_3_MONTH_V2_PLAN_ID=11,this.FLICKR_PRO_2_YEAR_V2_PLAN_ID=12,this.FLICKR_PRO_1_MONTH_V2_APPLE_ID=13,this.FLICKR_PRO_1_YEAR_V2_APPLE_ID=14,this.FLICKR_PRO_1_MONTH_V2_GOOGLE_ID=15,this.FLICKR_PRO_1_YEAR_V2_GOOGLE_ID=16,this.FLICKR_PRO_STRIPE_MONTHLY_PLAN_ID=17,this.FLICKR_PRO_STRIPE_ANNUAL_PLAN_ID=18,this.FLICKR_PRO_ANNUAL_PRICE=59.99,this.FLICKR_PRO_MONTHLY_PRICE=6.99,this.FLICKR_PRO_3_MONTH_V2_PRICE=18.99,this.FLICKR_PRO_2_YEAR_V2_PRICE=117.99,this.ADOBE_PARTNERSHIP_COUPON="FlickrAdobe25",this.subscriptionsIdByName={"pro-3month":this.FLICKR_PRO_3_MONTH_PLAN_ID,"pro-3month-v2":this.FLICKR_PRO_3_MONTH_V2_PLAN_ID,"pro-1year":this.FLICKR_PRO_1_YEAR_PLAN_ID,"pro-2year":this.FLICKR_PRO_2_YEARS_PLAN_ID,"pro-2year-v2":this.FLICKR_PRO_2_YEAR_V2_PLAN_ID,"pro-monthly":this.FLICKR_PRO_MONTHLY_PLAN_ID,"pro-annual":this.FLICKR_PRO_ANNUAL_PLAN_ID,"pro-trial":this.FLICKR_PRO_ANNUAL_TRIAL},this.subscriptionsIdByNameOnStripe={"pro-3month":0,"pro-3month-v2":0,"pro-1year":this.FLICKR_PRO_STRIPE_ANNUAL_PLAN_ID,"pro-2year":0,"pro-2year-v2":0,"pro-monthly":this.FLICKR_PRO_STRIPE_MONTHLY_PLAN_ID,"pro-annual":this.FLICKR_PRO_STRIPE_ANNUAL_PLAN_ID},this.subscriptionStatusMap={initiated:1,active:2,closed:3,canceled:4,failed:5,refunded:6,pending:7,subscription_canceled:8,subscription_charged_successfully:9,subscription_charged_unsuccessfully:10,subscription_expired:11,subscription_went_past_due:12,change_initiated:13,closed_pending:14},this.subscriptionsIdHasAnnualPerk={1:!1,2:!0,3:!0,4:!0,6:!1,7:!1,8:!0,9:!0,10:!0,11:!1,12:!0,13:!1,14:!0,15:!1,16:!0},this.cardTypeMap={1:"visa",2:"master-card",3:"discover",4:"american-express",5:"JCB"},this.paymentVendorMap={braintree:10,oldpaypal:20,digitalriver:30,apple:40,google:50,stripe:60},this.countriesArray=[{countryCode:"US",countryName:"United States"},{countryCode:"AF",countryName:"Afghanistan"},{countryCode:"AX",countryName:"Åland"},{countryCode:"AL",countryName:"Albania"},{countryCode:"DZ",countryName:"Algeria"},{countryCode:"AS",countryName:"American Samoa"},{countryCode:"AD",countryName:"Andorra"},{countryCode:"AO",countryName:"Angola"},{countryCode:"AI",countryName:"Anguilla"},{countryCode:"AQ",countryName:"Antarctica"},{countryCode:"AG",countryName:"Antigua and Barbuda"},{countryCode:"AR",countryName:"Argentina"},{countryCode:"AM",countryName:"Armenia"},{countryCode:"AW",countryName:"Aruba"},{countryCode:"AU",countryName:"Australia"},{countryCode:"AT",countryName:"Austria"},{countryCode:"AZ",countryName:"Azerbaijan"},{countryCode:"BS",countryName:"Bahamas"},{countryCode:"BH",countryName:"Bahrain"},{countryCode:"BD",countryName:"Bangladesh"},{countryCode:"BB",countryName:"Barbados"},{countryCode:"BY",countryName:"Belarus"},{countryCode:"BE",countryName:"Belgium"},{countryCode:"BZ",countryName:"Belize"},{countryCode:"BJ",countryName:"Benin"},{countryCode:"BM",countryName:"Bermuda"},{countryCode:"BT",countryName:"Bhutan"},{countryCode:"BO",countryName:"Bolivia"},{countryCode:"BQ",countryName:"Bonaire, Sint Eustatius and Saba"},{countryCode:"BA",countryName:"Bosnia and Herzegovina"},{countryCode:"BW",countryName:"Botswana"},{countryCode:"BV",countryName:"Bouvet Island"},{countryCode:"BR",countryName:"Brazil"},{countryCode:"IO",countryName:"British Indian Ocean Territory"},{countryCode:"BN",countryName:"Brunei Darussalam"},{countryCode:"BG",countryName:"Bulgaria"},{countryCode:"BF",countryName:"Burkina Faso"},{countryCode:"BI",countryName:"Burundi"},{countryCode:"KH",countryName:"Cambodia"},{countryCode:"CM",countryName:"Cameroon"},{countryCode:"CA",countryName:"Canada"},{countryCode:"CV",countryName:"Cape Verde"},{countryCode:"KY",countryName:"Cayman Islands"},{countryCode:"CF",countryName:"Central African Republic"},{countryCode:"TD",countryName:"Chad"},{countryCode:"CL",countryName:"Chile"},{countryCode:"CN",countryName:"China"},{countryCode:"CX",countryName:"Christmas Island"},{countryCode:"CC",countryName:"Cocos (Keeling) Islands"},{countryCode:"CO",countryName:"Colombia"},{countryCode:"KM",countryName:"Comoros"},{countryCode:"CG",countryName:"Congo (Brazzaville)"},{countryCode:"CD",countryName:"Congo (Kinshasa)"},{countryCode:"CK",countryName:"Cook Islands"},{countryCode:"CR",countryName:"Costa Rica"},{countryCode:"CI",countryName:"Côte d'Ivoire"},{countryCode:"HR",countryName:"Croatia"},{countryCode:"CW",countryName:"Curaçao"},{countryCode:"CY",countryName:"Cyprus"},{countryCode:"CZ",countryName:"Czech Republic"},{countryCode:"DK",countryName:"Denmark"},{countryCode:"DJ",countryName:"Djibouti"},{countryCode:"DM",countryName:"Dominica"},{countryCode:"DO",countryName:"Dominican Republic"},{countryCode:"EC",countryName:"Ecuador"},{countryCode:"EG",countryName:"Egypt"},{countryCode:"SV",countryName:"El Salvador"},{countryCode:"GQ",countryName:"Equatorial Guinea"},{countryCode:"ER",countryName:"Eritrea"},{countryCode:"EE",countryName:"Estonia"},{countryCode:"ET",countryName:"Ethiopia"},{countryCode:"FK",countryName:"Falkland Islands"},{countryCode:"FO",countryName:"Faroe Islands"},{countryCode:"FJ",countryName:"Fiji"},{countryCode:"FI",countryName:"Finland"},{countryCode:"FR",countryName:"France"},{countryCode:"GF",countryName:"French Guiana"},{countryCode:"PF",countryName:"French Polynesia"},{countryCode:"TF",countryName:"French Southern Lands"},{countryCode:"GA",countryName:"Gabon"},{countryCode:"GM",countryName:"Gambia"},{countryCode:"GE",countryName:"Georgia"},{countryCode:"DE",countryName:"Germany"},{countryCode:"GH",countryName:"Ghana"},{countryCode:"GI",countryName:"Gibraltar"},{countryCode:"GR",countryName:"Greece"},{countryCode:"GL",countryName:"Greenland"},{countryCode:"GD",countryName:"Grenada"},{countryCode:"GP",countryName:"Guadeloupe"},{countryCode:"GU",countryName:"Guam"},{countryCode:"GT",countryName:"Guatemala"},{countryCode:"GG",countryName:"Guernsey"},{countryCode:"GN",countryName:"Guinea"},{countryCode:"GW",countryName:"Guinea-Bissau"},{countryCode:"GY",countryName:"Guyana"},{countryCode:"HT",countryName:"Haiti"},{countryCode:"HM",countryName:"Heard and McDonald Islands"},{countryCode:"HN",countryName:"Honduras"},{countryCode:"HK",countryName:"Hong Kong"},{countryCode:"HU",countryName:"Hungary"},{countryCode:"IS",countryName:"Iceland"},{countryCode:"IN",countryName:"India"},{countryCode:"ID",countryName:"Indonesia"},{countryCode:"IE",countryName:"Ireland"},{countryCode:"IM",countryName:"Isle of Man"},{countryCode:"IL",countryName:"Israel"},{countryCode:"IT",countryName:"Italy"},{countryCode:"JM",countryName:"Jamaica"},{countryCode:"JP",countryName:"Japan"},{countryCode:"JE",countryName:"Jersey"},{countryCode:"JO",countryName:"Jordan"},{countryCode:"KZ",countryName:"Kazakhstan"},{countryCode:"KE",countryName:"Kenya"},{countryCode:"KI",countryName:"Kiribati"},{countryCode:"KR",countryName:"Korea, South"},{countryCode:"KW",countryName:"Kuwait"},{countryCode:"KG",countryName:"Kyrgyzstan"},{countryCode:"LA",countryName:"Laos"},{countryCode:"LV",countryName:"Latvia"},{countryCode:"LB",countryName:"Lebanon"},{countryCode:"LS",countryName:"Lesotho"},{countryCode:"LR",countryName:"Liberia"},{countryCode:"LY",countryName:"Libya"},{countryCode:"LI",countryName:"Liechtenstein"},{countryCode:"LT",countryName:"Lithuania"},{countryCode:"LU",countryName:"Luxembourg"},{countryCode:"MO",countryName:"Macau"},{countryCode:"MK",countryName:"Macedonia"},{countryCode:"MG",countryName:"Madagascar"},{countryCode:"MW",countryName:"Malawi"},{countryCode:"MY",countryName:"Malaysia"},{countryCode:"MV",countryName:"Maldives"},{countryCode:"ML",countryName:"Mali"},{countryCode:"MT",countryName:"Malta"},{countryCode:"MH",countryName:"Marshall Islands"},{countryCode:"MQ",countryName:"Martinique"},{countryCode:"MR",countryName:"Mauritania"},{countryCode:"MU",countryName:"Mauritius"},{countryCode:"YT",countryName:"Mayotte"},{countryCode:"MX",countryName:"Mexico"},{countryCode:"FM",countryName:"Micronesia"},{countryCode:"MD",countryName:"Moldova"},{countryCode:"MC",countryName:"Monaco"},{countryCode:"MN",countryName:"Mongolia"},{countryCode:"ME",countryName:"Montenegro"},{countryCode:"MS",countryName:"Montserrat"},{countryCode:"MA",countryName:"Morocco"},{countryCode:"MZ",countryName:"Mozambique"},{countryCode:"MM",countryName:"Myanmar"},{countryCode:"NA",countryName:"Namibia"},{countryCode:"NR",countryName:"Nauru"},{countryCode:"NP",countryName:"Nepal"},{countryCode:"NL",countryName:"Netherlands"},{countryCode:"AN",countryName:"Netherlands Antilles"},{countryCode:"NC",countryName:"New Caledonia"},{countryCode:"NZ",countryName:"New Zealand"},{countryCode:"NI",countryName:"Nicaragua"},{countryCode:"NE",countryName:"Niger"},{countryCode:"NG",countryName:"Nigeria"},{countryCode:"NU",countryName:"Niue"},{countryCode:"NF",countryName:"Norfolk Island"},{countryCode:"MP",countryName:"Northern Mariana Islands"},{countryCode:"NO",countryName:"Norway"},{countryCode:"OM",countryName:"Oman"},{countryCode:"PK",countryName:"Pakistan"},{countryCode:"PW",countryName:"Palau"},{countryCode:"PS",countryName:"Palestine"},{countryCode:"PA",countryName:"Panama"},{countryCode:"PG",countryName:"Papua New Guinea"},{countryCode:"PY",countryName:"Paraguay"},{countryCode:"PE",countryName:"Peru"},{countryCode:"PH",countryName:"Philippines"},{countryCode:"PN",countryName:"Pitcairn"},{countryCode:"PL",countryName:"Poland"},{countryCode:"PT",countryName:"Portugal"},{countryCode:"PR",countryName:"Puerto Rico"},{countryCode:"QA",countryName:"Qatar"},{countryCode:"RE",countryName:"Reunion"},{countryCode:"RO",countryName:"Romania"},{countryCode:"RU",countryName:"Russian Federation"},{countryCode:"RW",countryName:"Rwanda"},{countryCode:"BL",countryName:"Saint Barthélemy"},{countryCode:"SH",countryName:"Saint Helena"},{countryCode:"KN",countryName:"Saint Kitts and Nevis"},{countryCode:"LC",countryName:"Saint Lucia"},{countryCode:"MF",countryName:"Saint Martin (French part)"},{countryCode:"PM",countryName:"Saint Pierre and Miquelon"},{countryCode:"VC",countryName:"Saint Vincent and the Grenadines"},{countryCode:"WS",countryName:"Samoa"},{countryCode:"SM",countryName:"San Marino"},{countryCode:"ST",countryName:"Sao Tome and Principe"},{countryCode:"SA",countryName:"Saudi Arabia"},{countryCode:"SN",countryName:"Senegal"},{countryCode:"RS",countryName:"Serbia"},{countryCode:"SC",countryName:"Seychelles"},{countryCode:"SL",countryName:"Sierra Leone"},{countryCode:"SG",countryName:"Singapore"},{countryCode:"SX",countryName:"Sint Maarten (Dutch part)"},{countryCode:"SK",countryName:"Slovakia"},{countryCode:"SI",countryName:"Slovenia"},{countryCode:"SB",countryName:"Solomon Islands"},{countryCode:"SO",countryName:"Somalia"},{countryCode:"ZA",countryName:"South Africa"},{countryCode:"GS",countryName:"South Georgia and South Sandwich Islands"},{countryCode:"SS",countryName:"South Sudan"},{countryCode:"ES",countryName:"Spain"},{countryCode:"LK",countryName:"Sri Lanka"},{countryCode:"SD",countryName:"Sudan"},{countryCode:"SR",countryName:"Suriname"},{countryCode:"SJ",countryName:"Svalbard and Jan Mayen Islands"},{countryCode:"SZ",countryName:"Swaziland"},{countryCode:"SE",countryName:"Sweden"},{countryCode:"CH",countryName:"Switzerland"},{countryCode:"TW",countryName:"Taiwan"},{countryCode:"TJ",countryName:"Tajikistan"},{countryCode:"TZ",countryName:"Tanzania"},{countryCode:"TH",countryName:"Thailand"},{countryCode:"TL",countryName:"Timor-Leste"},{countryCode:"TG",countryName:"Togo"},{countryCode:"TK",countryName:"Tokelau"},{countryCode:"TO",countryName:"Tonga"},{countryCode:"TT",countryName:"Trinidad and Tobago"},{countryCode:"TN",countryName:"Tunisia"},{countryCode:"TR",countryName:"Turkey"},{countryCode:"TM",countryName:"Turkmenistan"},{countryCode:"TC",countryName:"Turks and Caicos Islands"},{countryCode:"TV",countryName:"Tuvalu"},{countryCode:"UG",countryName:"Uganda"},{countryCode:"UA",countryName:"Ukraine"},{countryCode:"AE",countryName:"United Arab Emirates"},{countryCode:"GB",countryName:"United Kingdom"},{countryCode:"UM",countryName:"United States Minor Outlying Islands"},{countryCode:"UY",countryName:"Uruguay"},{countryCode:"UZ",countryName:"Uzbekistan"},{countryCode:"VU",countryName:"Vanuatu"},{countryCode:"VA",countryName:"Vatican City"},{countryCode:"VN",countryName:"Vietnam"},{countryCode:"VG",countryName:"Virgin Islands, British"},{countryCode:"VI",countryName:"Virgin Islands, U.S."},{countryCode:"WF",countryName:"Wallis and Futuna Islands"},{countryCode:"EH",countryName:"Western Sahara"},{countryCode:"YE",countryName:"Yemen"},{countryCode:"ZM",countryName:"Zambia"},{countryCode:"ZW",countryName:"Zimbabwe"}],this.statesArray=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],this.US_TERRITORIES_COUNTRIES_CODES=["PR","UM","GU","VI","AS","MP"]},t.SubscriptionsHelper.prototype.canSeeAnnualProPerks=function(e,n){if(n){var o=n.toJSON();if(!e.getValue("isPro"))return!1;if(o.oneTimePro.isOneTimePro)return!0;if(e.getValue("isPro")){var r=t.Array.filter(o.subscriptions,function(e){return e.status===this.subscriptionStatusMap.active||e.status===this.subscriptionStatusMap.closed&&void 0!==e.effectiveEndDate&&e.effectiveEndDate.isAfter(t.moment())||e.status===this.subscriptionStatusMap.subscription_went_past_due||e.status===this.subscriptionStatusMap.pending&&(void 0!==e.startDate&&e.startDate.isBefore(t.moment())||null!==e.transactions&&e.transactions.length>0)}.bind(this));return!(!r||!r[0])&&this.subscriptionsIdHasAnnualPerk[r[0].type]}}},t.SubscriptionsHelper.prototype.canPlanIdSeeAnnualPerks=function(t){return this.subscriptionsIdHasAnnualPerk[t]},t.SubscriptionsHelper.prototype.convertDesiredPlan=function(t,e){var n;if("pro-3month"===t||"pro-3month-v2"===t||"pro-1year"===t||"pro-2year"===t||"pro-2year-v2"===t)switch(t){case"pro-monthly":n="pro-monthly";break;case"pro-3month":case"pro-3month-v2":n="pro-3month-v2";break;case"pro-1year":case"pro-2year":case"pro-2year-v2":default:n="pro-annual"}else n=t;return n},t.SubscriptionsHelper.prototype.getPlanIdWithPlanName=function(t,e){var n=this.FLICKR_PRO_ANNUAL_PLAN_ID,o=e?this.subscriptionsIdByNameOnStripe:this.subscriptionsIdByName;return void 0!==o[t]&&(n=o[t]),n},t.SubscriptionsHelper.prototype.getPlanNameWithPlanId=function(t){var e="";for(var n in this.subscriptionsIdByName)if(this.subscriptionsIdByName[n]===t){e=n;break}return e},t.SubscriptionsHelper.prototype.canPurchaseAtLeastOnePlan=function(t){var e=[];return t&&(e=t.filter(function(t){return 1===t.canPurchase})),e.length>0},t.SubscriptionsHelper.prototype.canPurchaseThisPlanId=function(t,e){var n=[];return t&&e&&(n=e.filter(function(e){return e.planId===t})),n.length>0},t.SubscriptionsHelper.prototype.getNewProPlans=function(t){if(t)return t.filter(function(t){return"FlickrNewPro"===t.familyName})},t.SubscriptionsHelper.prototype.getOldProPlans=function(t){if(t)return t.filter(function(t){return"FlickrPro"===t.familyName})},t.SubscriptionsHelper.prototype.getPlanWithIdInPlansList=function(t){},t.SubscriptionsHelper.prototype.sanitizeCouponCode=function(t){var e=!1;if(t){if(e=t.trim(),t.length<=1)return!1;if(!e.match(/^[\w\-]+$/))return!1}return e},t.SubscriptionsHelper.prototype.convertLocaleToPaypalFormat=function(t){if(t){return{"de-DE":"de_DE","en-US":"en_US","es-US":"es_ES","fr-FR":"fr_FR","id-ID":"id_ID","it-IT":"it_IT","ko-KR":"ko_KR","pt-BR":"pt_PT","vi-VN":"en_US","zh-HK":"zh_HK"}[t]}},t.SubscriptionsHelper.prototype.getStripeLocale=function(t){var e="en";if(t){e={"de-DE":"de","en-US":"en","es-US":"es-419","fr-FR":"fr","id-ID":"id","it-IT":"it","ko-KR":"en","pt-BR":"pt_BR","vi-VN":"en","zh-HK":"zh-HK"}[t]}return e},t.SubscriptionsHelper.prototype.getNiceCardType=function(t){return this.cardTypeMap[t]},t.SubscriptionsHelper.prototype.getPaymentVendorType=function(t){return this.paymentVendorMap[t]},t.SubscriptionsHelper.prototype.isPaymentVendorBraintree=function(t){return t===this.paymentVendorMap.braintree},t.SubscriptionsHelper.prototype.isPaymentVendorDigitalRiver=function(t){return t===this.paymentVendorMap.digitalriver},t.SubscriptionsHelper.prototype.isPaymentVendorStripe=function(t){return t===this.paymentVendorMap.stripe},t.SubscriptionsHelper.prototype.isPaymentVendorAppleOrGoogle=function(t){return t===this.paymentVendorMap.apple||t===this.paymentVendorMap.google},t.SubscriptionsHelper.prototype.isPaymentVendorApple=function(t){return t===this.paymentVendorMap.apple},t.SubscriptionsHelper.prototype.isPaymentVendorGoogle=function(t){return t===this.paymentVendorMap.google},t.SubscriptionsHelper.prototype.hasYearlyLegalNotice=function(t){return this.subscriptionsIdHasAnnualPerk[t]},t.SubscriptionsHelper.prototype.log=function(e,n){!YUI.Env.isServer&&t.config.win.beaconError&&t.config.win.beaconError("[flickr-add-payment-method] "+e,t.config.win.location.href,n||{})},t.SubscriptionsHelper.prototype.beaconTransactionStep=function(e,n){!YUI.Env.isServer&&t.config.win.beaconError&&t.config.win.beaconError("[PRO] "+e,t.config.win.location.href,n||{})},t.SubscriptionsHelper.prototype.doesPlanIdHaveTrial=function(t){return t===this.FLICKR_PRO_ANNUAL_PLAN_ID||t===this.FLICKR_PRO_1_YEAR_PLAN_ID||t===this.FLICKR_PRO_2_YEARS_PLAN_ID},t.SubscriptionsHelper.prototype.canPurchaseTrialPlan=function(e,n){if(e&&n){var o;return o=e.getValue("products"),t.Array.filter(o,function(t){return t.planId===this.FLICKR_PRO_ANNUAL_TRIAL&&1===t.canPurchase||t.planId===this.FLICKR_PRO_OLD_ANNUAL_TRIAL&&1===t.canPurchase}.bind(this)).length>0}},t.SubscriptionsHelper.prototype.getTrialLength=function(){return 45},t.SubscriptionsHelper.prototype.formatSubscriptionModels=function(e){var n=e;return!n||!n.toJSON()||!n.toJSON().subscriptions||!n.toJSON().subscriptions instanceof Array||0===n.toJSON().subscriptions.length?[]:t.Array.map(n.toJSON().subscriptions,function(t){var e,n=t.amountBilled?t.amountBilled.toFixed(2):"0.00",o=t.pendingPrice?t.pendingPrice.toFixed(2):"0.00";return e=t.status!==this.subscriptionStatusMap.closed&&"object"==typeof t.effectiveEndDate&&"object"==typeof t.nextBillingDate?t.nextBillingDate.format("LL"):"",{type:t.type,startDate:"object"==typeof t.startDate?t.startDate.format("LL"):"",renewDate:e,nextBillingDate:t.nextBillingDate,id:t.id,name:t.prettyName,duration:t.prettyNameDuration,price:n,pendingPrice:o,status:t.status,isClosed:t.status===this.subscriptionStatusMap.closed,isPastDue:t.status===this.subscriptionStatusMap.subscription_went_past_due,effectiveEndDate:t.effectiveEndDate,paymentVendorType:t.paymentVendorType,isBraintreeSubscription:this.isPaymentVendorBraintree(t.paymentVendorType),isDigitalRiverSubscription:this.isPaymentVendorDigitalRiver(t.paymentVendorType),isStripeSubscription:this.isPaymentVendorStripe(t.paymentVendorType),isGoogleOrAppleSubscription:this.isPaymentVendorAppleOrGoogle(t.paymentVendorType),transactions:t.transactions}}.bind(this))},t.SubscriptionsHelper.prototype.getActiveAndPendingSubscriptions=function(e){var n,o;return n=t.Array.filter(this.formatSubscriptionModels(e),function(t){return t.status===this.subscriptionStatusMap.pending}.bind(this)),o=t.Array.filter(this.formatSubscriptionModels(e),function(e){return e.status===this.subscriptionStatusMap.active||e.status===this.subscriptionStatusMap.closed&&void 0!==e.effectiveEndDate&&e.effectiveEndDate.isAfter(t.moment())||e.status===this.subscriptionStatusMap.subscription_went_past_due}.bind(this)),{activeSubs:o,pendingSubs:n}},t.SubscriptionsHelper.prototype.isUserOnActiveButClosedPro=function(e){var n=this.getActiveAndPendingSubscriptions(e);return t.Array.filter(n.activeSubs,function(t){return t.status!==this.subscriptionStatusMap.active}.bind(this)).length>=1&&n.pendingSubs&&0===n.pendingSubs.length},t.SubscriptionsHelper.prototype.isUserCurrentlyOnADigitalRiverSub=function(t){var e=this.getActiveAndPendingSubscriptions(t),n=!1;if(e.activeSubs&&e.activeSubs.length>0){var o=e.activeSubs[0];if(e.pendingSubs&&e.pendingSubs.length>0){var r=e.pendingSubs[0];r&&(n=r.isDigitalRiverSubscription)}else n=o.isDigitalRiverSubscription}return n},t.SubscriptionsHelper.prototype.isUserCurrentlyOnABraintreeSub=function(t){var e=this.getActiveAndPendingSubscriptions(t),n=!1,o=!1;if(e.activeSubs&&e.activeSubs.length>0){var r=e.activeSubs[0];if(e.pendingSubs&&e.pendingSubs.length>0){var a=e.pendingSubs[0];a&&(n=a.isBraintreeSubscription,o=a.nextBillingDate)}else r.isClosed||(n=r.isBraintreeSubscription,o=r.nextBillingDate)}return{isUserCurrentlyOnABraintreeSub:n,renewalDate:o}},t.SubscriptionsHelper.prototype.isUserCurrentlyOnAIAPSub=function(t){var e=this.getActiveAndPendingSubscriptions(t),n=!1;if(e.activeSubs&&e.activeSubs.length>0){var o=e.activeSubs[0];if(e.pendingSubs&&e.pendingSubs.length>0){var r=e.pendingSubs[0];r&&(n=r.isGoogleOrAppleSubscription)}else o.isClosed||(n=o.isGoogleOrAppleSubscription)}return n},t.SubscriptionsHelper.prototype.subscriptionIDisIAP=function(t,e){var n=!1;return this.formatSubscriptionModels(e).forEach(function(e){e.id===t&&this.isPaymentVendorAppleOrGoogle(e.paymentVendorType)&&(n=!0)}.bind(this)),n},t.SubscriptionsHelper.prototype.isUserPastDue=function(e){var n=[],o=this.getActiveAndPendingSubscriptions(e);return(n=t.Array.filter(o.activeSubs,function(t){return t.status===this.subscriptionStatusMap.subscription_went_past_due}.bind(this)))&&n.length>=1},t.SubscriptionsHelper.prototype.hasPurchasedTrialInThePast=function(e){var n=e.toJSON();return t.Array.filter(n,function(t){return t.planId===this.FLICKR_PRO_ANNUAL_TRIAL||t.planId===this.FLICKR_PRO_OLD_ANNUAL_TRIAL}.bind(this)).length>0},t.SubscriptionsHelper.prototype.isOnActiveTrial=function(t){var e=this.getActiveAndPendingSubscriptions(t),n=!1;return e&&e.activeSubs&&e.activeSubs.length>0&&(n=e.activeSubs[0].type===this.FLICKR_PRO_ANNUAL_TRIAL||e.activeSubs[0].type===this.FLICKR_PRO_OLD_ANNUAL_TRIAL),n},t.SubscriptionsHelper.prototype.isOneTimePro=function(t){return t.toJSON().oneTimePro.isOneTimePro},t.SubscriptionsHelper.prototype.getShopperCurrencyAndLocale=function(e){var n="US",o="en_US",r="USD",a=!1;if(!e&&t.config.flickr.geo?(t.config.flickr.geo.countryCode&&(n=t.config.flickr.geo.countryCode),t.config.flickr.geo.eu&&(a=t.config.flickr.geo.eu)):e&&(n=e.countryCode||"US",a=e.eu||!1),a)"GB"===n?(o="en_IE",r="GBP"):(o="en_IE",r="EUR");else if(this.US_TERRITORIES_COUNTRIES_CODES.indexOf(n)>-1)o="en_US",r="USD";else switch(n){case"US":o="en_US",r="USD";break;case"CA":o="en_IE",r="CAD";break;default:o="en_IE",r="USD"}return{locale:o,currency:r}},t.SubscriptionsHelper.prototype.getPriceWithCurrency=function(t,e,n){var o=n.replace("_","-");return new Intl.NumberFormat(o,{style:"currency",currency:e}).format(t)},t.SubscriptionsHelper.prototype.doesCountryRequiresSignedInGifting=function(t){return!(!t||!t.countryCode||"VN"!==t.countryCode)},t.SubscriptionsHelper.prototype.isADeniedCountry=function(t){return!!(t&&t.countryCode&&["VE","CU","IR","IQ","KP","SY"].indexOf(t.countryCode)>-1)},t.SubscriptionsHelper.prototype.isProductPubliclyAvailable=function(t){return!(!t||t===this.FLICKR_PRO_2_YEAR_V2_PLAN_ID)},t.SubscriptionsHelper.prototype.parseEffectiveSubscriptionData=function(t,e){var n=!1,o=!1,r=!1;if(t&&e&&e.length){e.length>1&&e.sort(function(t,e){return parseInt(t.startDate,10)<parseInt(e.startDate)});var a=parseInt(e[0].status,10),u=parseInt(e[0].effectiveEndDate,10),i=parseInt(e[0].nextBillingDate,10);n=a===this.subscriptionStatusMap.closed&&u>parseInt((new Date).getTime()/1e3,10),!!(r=a===this.subscriptionStatusMap.pending)&&this.isSubscriptionPendingAndPaidFor(e[0]),a===this.subscriptionStatusMap.active&&i>parseInt((new Date).getTime()/1e3,10),o=a===this.subscriptionStatusMap.subscription_went_past_due}return{isPro:t,isClosed:n,isPastDue:o,isPending:r}},t.SubscriptionsHelper.prototype.isAMonthlySub=function(t){var e=[this.FLICKR_PRO_3_MONTH_PLAN_ID,this.FLICKR_PRO_MONTHLY_PLAN_ID,this.FLICKR_PRO_3_MONTH_V2_PLAN_ID];return!!(t&&e.indexOf(t)>-1)},t.SubscriptionsHelper.prototype.isSubscriptionPendingAndPaidFor=function(t){return!!t&&(parseInt(t.status,10)===this.subscriptionStatusMap.pending&&t.transactions&&t.transactions.length>0)},t.SubscriptionsHelper.prototype.canSeeStripeCheckout=function(t){return t.flipper.isFlipped("enable-stripe-checkout")}},"@VERSION@",{requires:["moment","timezone-helper","array-extras"],optional:[]});
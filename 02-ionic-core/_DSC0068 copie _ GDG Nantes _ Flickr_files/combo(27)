YUI.add("flickr-photosets-editMeta-updater",function(e,t){"use strict";var o=require("hermes-core/flog")(t);e.namespace("ModelUpdaters")["flickr-photosets-editMeta"]={run:function(o,s){var i={},r=this;return i.photoset_id=o.photosetId,i.title=o.title,i.description=o.description,o.includeHiddenSets&&(i.extras="hidden_sets"),e.Promise.all([s.callAPI("flickr.photosets.editMeta",i),s.getModelRegistry("set-models")]).then(function(e){r._processResponse(e,o,s)},e.FetcherErrorLogger(t))},_processResponse:function(e,t,s){var i=e[0],r=e[1];if(i.photoset&&i.photoset.title&&i.photoset.description){if(!r.exists(t.photosetId))throw new Error("[flickr-photosets-editMeta-updater] - Set model cannot be updated if it does not exist");r.setValues(t.photosetId,{title:i.photoset.title.content,description:i.photoset.description.content})}else o.warn("No updated data returned from API.")}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-photosets-setPrimaryPhoto-updater",function(r,t){"use strict";r.namespace("ModelUpdaters")["flickr-photosets-setPrimaryPhoto"]={run:function(o,e){var s={};return s.photoset_id=o.albumId,s.photo_id=o.photoId,e.callAPI("flickr.photosets.setPrimaryPhoto",s).then(null,r.FetcherErrorLogger(t))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("set-models",function(e,t){function o(e){o.superclass.constructor.call(this,e)}var r=require("hermes-core/flog")(t);e.Models[this.name]=o,e.extend(o,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-photosets-getPhotos"].run(t,this.appContext)},create:function(t,o){return e.ModelCreators["flickr-photosets-create"].run(t,o)},createHidden:function(t,o){return e.ModelCreators["flickr-photosets-createHidden"].run(t,o)},addPhoto:function(t,o){return e.ModelCreators["flickr-photosets-addPhoto"].run(t,o)},removePhoto:function(t,o){return e.ModelCreators["flickr-photosets-removePhoto"].run(t,o)},update:function(t,o){return e.ModelUpdaters["flickr-photosets-editMeta"].run({photosetId:t,title:o.title?o.title.newVal:this.getValue(t,"title"),description:o.description?o.description.newVal:this.getValue(t,"description")},this.appContext)},setPrimaryPhoto:function(t,o){return e.ModelUpdaters["flickr-photosets-setPrimaryPhoto"].run(t,o)},delete:function(t){if("string"==typeof t){t={setID:t}}return e.ModelDeletors["flickr-photosets-delete-deletor"].run(t,this.appContext)}},addPhoto:function(e,t){return this.getValue(e,"photoPageList").hasMaxBoundary()&&this.getValue(e,"photoPageList").appendToList(t),this.getValue(e,"photoContextList").hasMaxBoundary()&&this.getValue(e,"photoContextList").appendToList(t),this},removePhoto:function(e,t){return this.getValue(e,"photoPageList").removeFromList(t.getValue("id")),this.getValue(e,"photoContextList").removeFromList(t.getValue("id")),this},hasPhoto:function(e,t){return this.getValue(e,"photoPageList").getFromListByID(t)||this.getValue(e,"photoContextList").getFromListByID(t)},getSizeToFit:function(t,o,i){r.info("Using `getSizeToFit` is deprecated. See model comments for more details.");var n=e.PhotoModelHelper.getSizeToFit(t,o,e.merge({sizes:this.getValue(t,"primaryPhotoSizes"),includeSquare:!0,cropToFit:!0},i));return n&&(n.url=n.src),n},getLargestPrimaryPhotoSize:function(t,o){return e.PhotoModelHelper.getLargestSize(t,o)},attributes:{normalizedId:{readOnly:!0,defaultFn:function(e){return e.split("-")[0]}},displayType:{readOnly:!0,defaultFn:function(){return"set"}},title:{validator:function(t,o){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},description:{validator:function(t,o){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},owner:{isModel:!0},isOwner:e.PhotoModelHelper.attributes.isOwner,photoPageList:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-photosets-getPhotos"]}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:e.ListFetchers["flickr-photosets-getContext"],listItemIdField:"photoId"}},photoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},videoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},publicPhotosCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},totalCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return this.getValue(e,"photoCount")+this.getValue(e,"videoCount")}},viewCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},photoCountDisplay:{readOnly:!0,derivedBy:["totalCount"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),o=this.getValue(e,"videoCount"),r=this.getValue(e,"totalCount"),i="";return 0===(t-=o)&&0===o?i=this.intlMessage({intlName:"models.ZERO_PHOTOS"}):1===t&&0===o?i=this.intlMessage({intlName:"models.ONE_PHOTO"}):t>1&&0===o?i=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS",photos:t}):0===t&&1===o?i=this.intlMessage({intlName:"models.ONE_VIDEO"}):1===t&&1===o?i=this.intlMessage({intlName:"models.ONE_PHOTO_AND_ONE_VIDEO"}):t>1&&1===o?i=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_ONE_VIDEO",photos:t}):0===t&&o>1?i=this.intlMessage({intlName:"models.MULTIPLE_VIDEOS",videos:o}):1===t&&o>1?i=this.intlMessage({intlName:"models.ONE_PHOTO_AND_MULTIPLE_VIDEOS",videos:o}):t>1&&o>1&&(i=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS",photos:t,videos:o})),0===r?i=this.intlMessage({intlName:"models.ZERO_ITEMS"}):1===r?i=this.intlMessage({intlName:"models.ONE_ITEM"}):r>1&&(i=this.intlMessage({intlName:"models.MULTIPLE_ITEMS",items:r})),i}},photoAndVideosDisplay:{readOnly:!0,derivedBy:["photoCount","videoCount"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),o=this.getValue(e,"videoCount"),r="";return 0===t&&0===o?r=this.intlMessage({intlName:"models.ZERO_PHOTOS"}):1===t&&0===o?r=this.intlMessage({intlName:"models.ONE_PHOTO"}):t>1&&0===o?r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS",photos:t}):0===t&&1===o?r=this.intlMessage({intlName:"models.ONE_VIDEO"}):1===t&&1===o?r=this.intlMessage({intlName:"models.ONE_PHOTO_AND_ONE_VIDEO"}):t>1&&1===o?r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_ONE_VIDEO",photos:t}):0===t&&o>1?r=this.intlMessage({intlName:"models.MULTIPLE_VIDEOS",videos:o}):1===t&&o>1?r=this.intlMessage({intlName:"models.ONE_PHOTO_AND_MULTIPLE_VIDEOS",videos:o}):t>1&&o>1&&(r=this.intlMessage({intlName:"models.MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS",photos:t,videos:o})),r}},sharedEntityDisplay:{readOnly:!0,derivedBy:["videoCount","photoCount"],defaultFn:function(e){var t=this.getValue(e,"photoCount"),o=this.getValue(e,"videoCount"),r=this.getValue(e,"owner"),i="";return t&&!o?i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_PHOTOS_ONLY",username:r.getValue("displayname"),photoCount:parseInt(t,10)}):!t&&o?i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_VIDEOS_ONLY",username:r.getValue("displayname"),videoCount:parseInt(o,10)}):t&&o&&(i=this.intlMessage({intlName:"shared-entity.USERNAME_HAS_SHARED_PHOTOS_VIDEOS",username:r.getValue("displayname"),photoCount:parseInt(t,10),videoCount:parseInt(o,10)})),i}},primary:{},primaryPhotoSizes:{},primaryNeedsInterstitial:{},bestIconURL:{readOnly:!0,derivedBy:["primaryPhotoSizes"],defaultFn:function(t){var o=e.PhotoModelHelper.getSizeToFit(t,{height:75,width:75},e.merge({sizes:this.getValue(t,"primaryPhotoSizes"),includeSquare:!0,cropToFit:!0}));return o?o.src:""}},url:{readOnly:!0,derivedBy:["owner","normalizedId"],defaultFn:function(e){var t=this.getValue(e,"owner"),o=this.getValue(e,"isSharedEntity"),r=this.getValue(e,"normalizedId");return t&&!0===o?"/photos/"+t.getValue("pathAlias")+"/shares/"+r:t?"/photos/"+t.getValue("pathAlias")+"/albums/"+r:void 0}},isAutoUploadSet:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},isSharedEntity:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},canShare:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},canDownload:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},urlSuffix:{readOnly:!0,defaultFn:function(e){return this.getValue(e,"isSharedEntity")?"shares-"+e:"album-"+e}},gpCode:{defaultFn:function(e){return null}},gpOwner:{defaultFn:function(e){return null}}}},{buildCompoundId:function(e,t,o){var r=e;return t&&(r+="-"+t),o&&(t||(r+="-dateposted"),r+="-"+o),r},splitCompoundId:function(e){var t=e.split("-");return{nsid:t[0],orderBy:t[1],viewAs:t[2]}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photosets-addPhoto-creator","flickr-photosets-removePhoto-deletor","flickr-photosets-delete-deletor","flickr-photosets-getPhotos-fetcher","flickr-photosets-getContext-fetcher","flickr-photosets-create-creator","flickr-photosets-createHidden-creator","flickr-photosets-editMeta-updater","flickr-photosets-setPrimaryPhoto-updater","photo-model-helper"],langBundles:["models","shared-entity"]});YUI.add("flickr-photos-getAllContexts-fetcher",function(e,t){"use strict";e.namespace("ModelFetchers")["flickr-photos-getAllContexts"]={run:function(o,s){var l=this;return s.flipper.isFlipped("enable-scrappy-photo-page")&&(o.scrappy=!0),e.Promise.all([s.callAPI("flickr.photos.getAllContexts",this._processParams(o),!0),s.getModelRegistry("person-models"),s.getModelRegistry("photo-contexts-models"),s.getModelRegistry("favorite-models"),s.getModelRegistry("gallery-models"),s.getModelRegistry("group-pool-models"),s.getModelRegistry("set-models"),s.getModelRegistry("photostream-models"),s.getModelRegistry("photo-groups-models"),s.getModelRegistry("photo-sets-models"),s.getModelRegistry("photo-galleries-models"),s.getModelRegistry("group-models")]).then(function(e){return l._processResponse(e,o)},e.FetcherErrorLogger(t))},_processParams:function(t){var o;return o={photo_id:t.id,extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras()+","+e.APIHelper.request.getRebootAlbumsListExtras(),primary_photo_extras:"url_sq, url_t, url_s, url_m, needs_interstitial"},t.scrappy&&(o.get_all_galleries=1,o.no_faves_context=1,o.per_type_limit=6,o.get_totals=1,o.sort="date-desc"),o},_processResponse:function(t,o){var s,l,r=t[0],a=t[1],p=t[2],d={},i=[],g=t[8],n=t[9],u=t[10],m=t[11];return d.faves=t[3],d.gallery=t[4],d.pool=t[5],d.set=t[6],d.stream=t[7],e.Object.each(d,function(t,o){r[o]&&e.Array.each(r[o],function(o){e.APIHelper.response.addContextToRegistry(o,t,a,m),i.push(t.proxy(o.id))})}),p.exists(o.id)||(s=p.add({id:o.id,totalGroups:r.totals&&r.totals.groups,totalSets:r.totals&&r.totals.sets,totalGalleries:r.totals&&r.totals.galleries}),p.setValue(o.id,"contexts",i)),g.addOrUpdate({id:o.id,total:r.totals&&r.totals.groups,groups:p.getContextsOfType(o.id,"group-pool-models")}),(l=p.getContextsOfType(o.id,"set-models")).forEach(function(e){e.setValue("totalCount",parseInt(e.getValue("photoCount"),10)+parseInt(e.getValue("videoCount"),10))}),n.addOrUpdate({id:o.id,total:r.totals&&r.totals.sets,sets:l}),u.addOrUpdate({id:o.id,total:r.totals&&r.totals.galleries,galleries:p.getContextsOfType(o.id,"gallery-models")}),s}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-contexts-models","favorite-models","gallery-models","group-pool-models","photostream-models","set-models","photo-groups-models","photo-sets-models","photo-galleries-models","group-models"]});YUI.add("photo-contexts-models",function(e){function t(e){t.superclass.constructor.call(this,e),this.getMorePromises={"group-pool-models":{},"set-models":{},"gallery-models":{}},this.continuationKeys={"group-pool-models":{},"set-models":{},"gallery-models":{}}}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return this.appContext.flipper.isFlipped("enable-scrappy-photo-page")?e.ModelFetchers["flickr-photos-getAllContexts"].run(t,this.appContext):e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)}},getMoreContextsOfType:function(t,r,o){var s,n,i,l,a,p,u,c=this,g=e.APIHelper.request.getRebootPhotoExtras();switch(r){case"group-pool-models":s="flickr.photos.getGroups",i="groups.group",g+=","+e.APIHelper.request.getRebootGroupExtras();break;case"set-models":s="flickr.photos.getSets",i="sets.set";break;case"gallery-models":s="flickr.photos.getGalleries",i="galleries.gallery"}return s?this.exists(t)?"-1"===(l=this.continuationKeys[r][t]||"0")?e.Promise.resolve({type:r,newContexts:[],loadedAll:!0}):(n={photo_id:t,extras:g,primary_photo_extras:"url_sq, url_t, url_s, url_m",continuation:l,per_page:o},p=t+"_"+l,(u=this.getMorePromises[r][p])?u:(this.getMorePromises[r][p]=new e.FlickrPromise({apiResponse:this.appContext.callAPI(s,n,!0),contextRegistry:this.appContext.getModelRegistry(r),personRegistry:this.appContext.getModelRegistry("person-models")}).then(function(o){var s,n,l,u=[],g=o.apiResponse,d=o.contextRegistry,f=o.personRegistry;return(n=i.split(".").reduce(function(t,r){return e.Lang.isObject(t)?t[r]:void 0},g))&&(e.Array.each(n,function(t){e.APIHelper.response.addContextToRegistry(t,d,f),u.push(d.proxy(t.id))}),u.length&&(l=c.getContextsOfType(t,r).map(function(e){return e.getValue("id")}),(u=u.filter(function(e){return-1===l.indexOf(e.getValue("id"))})).length&&c.getValue(t,"contexts").appendToListMulti(u))),void 0===(a=g.continuation)?a="-1":e.Lang.isNumber(a)&&(a+=""),s="-1"===a,c.continuationKeys[r][t]=a,delete c.getMorePromises[r][p],{type:r,newContexts:u,loadedAll:s}}),this.getMorePromises[r][p])):e.Promise.reject("[photo-contexts-models] getMoreContextsOfType was called for an ID that isn't in the registry: "+t):e.Promise.reject("[photo-contexts-models] getMoreContextsOfType was called without an invalid type: "+r)},getContextsOfType:function(t,r){return r=e.Array(r),this.getValue(t,"contexts").getList().filter(function(e){return r.indexOf(e.registry.name)>-1})},getContextsNotOfType:function(t,r){return r=e.Array(r),this.getValue(t,"contexts").getList().filter(function(e){return-1===r.indexOf(e.registry.name)})},attributes:{contexts:{isCollection:!0},totalGroups:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},totalSets:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},totalGalleries:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0}}})},"@VERSION@",{requires:["api-helper","flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","flickr-photos-getAllContexts-fetcher"]});YUI.add("hermes-template-album-page",function(e,t){var a=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,a,l,n){var u=null!=t?t:{},o=a.helperMissing,r=e.escapeExpression;return r((a.outlet||t&&t.outlet||o).call(u,null!=t?t["global-nav-view"]:t,{name:"outlet",hash:{},data:n}))+'\n\n<div role="main" class="album-container fluid-centered">\n\t'+r((a.outlet||t&&t.outlet||o).call(u,null!=t?t["album-toolbar-view"]:t,{name:"outlet",hash:{},data:n}))+"\n\t"+r((a.outlet||t&&t.outlet||o).call(u,null!=t?t["album-header-view"]:t,{name:"outlet",hash:{},data:n}))+"\n\t"+r((a.outlet||t&&t.outlet||o).call(u,null!=t?t["photo-list-view"]:t,{name:"outlet",hash:{},data:n}))+"\n\t"+r((a.outlet||t&&t.outlet||o).call(u,null!=t?t["pagination-view"]:t,{name:"outlet",hash:{},data:n}))+"\n\n</div>\n"+r((a.outlet||t&&t.outlet||o).call(u,null!=t?t["signup-footer-view"]:t,{name:"outlet",hash:{},data:n}))+"\n"+r((a.outlet||t&&t.outlet||o).call(u,null!=t?t["footer-full-view"]:t,{name:"outlet",hash:{},data:n}))},useData:!0}),l={};e.Array.each([],function(t){var a=e.Template.get("hermes/"+t);a&&(l[t]=a)}),e.Template.register("hermes/album-page",function(t,n){return n=n||{},n.partials=n.partials?e.merge(l,n.partials):l,a(t,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-dynamic-page-head",function(n,e){var a=n.Template.Handlebars.revive({1:function(n,e,a,l,t){var r;return'<meta name="title" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"title",hash:{},data:t}):r)+'" data-dynamic="true">'},3:function(n,e,a,l,t){return'<meta name="description" content="'+n.escapeExpression((a.stripTags||e&&e.stripTags||a.helperMissing).call(null!=e?e:{},null!=e?e.description:e,{name:"stripTags",hash:{},data:t}))+'" data-dynamic="true">'},5:function(n,e,a,l,t){var r;return null!=(r=a.if.call(null!=e?e:{},null!=e?e.oembedURL:e,{name:"if",hash:{},fn:n.program(6,t,0),inverse:n.program(8,t,0),data:t}))?r:""},6:function(n,e,a,l,t){var r,i=null!=e?e:{},o=a.helperMissing,p=n.escapeExpression;return'<link rel="alternate" type="application/json+oembed" href="https://www.flickr.com/services/oembed/?format=json&url='+p("function"==typeof(r=null!=(r=a.oembedURL||(null!=e?e.oembedURL:e))?r:o)?r.call(i,{name:"oembedURL",hash:{},data:t}):r)+'" title="'+p("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:o)?r.call(i,{name:"title",hash:{},data:t}):r)+'">\n<link rel="alternate" type="application/xml+oembed" href="https://www.flickr.com/services/oembed/?format=xml&url='+p("function"==typeof(r=null!=(r=a.oembedURL||(null!=e?e.oembedURL:e))?r:o)?r.call(i,{name:"oembedURL",hash:{},data:t}):r)+'" title="'+p("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:o)?r.call(i,{name:"title",hash:{},data:t}):r)+'">\n'},8:function(n,e,a,l,t){var r;return null!=(r=a.if.call(null!=e?e:{},null!=e?e.fullURL:e,{name:"if",hash:{},fn:n.program(9,t,0),inverse:n.noop,data:t}))?r:""},9:function(n,e,a,l,t){var r,i=null!=e?e:{},o=a.helperMissing,p=n.escapeExpression;return'<link rel="alternate" type="application/json+oembed" href="https://www.flickr.com/services/oembed/?format=json&url='+p("function"==typeof(r=null!=(r=a.fullURL||(null!=e?e.fullURL:e))?r:o)?r.call(i,{name:"fullURL",hash:{},data:t}):r)+'" title="'+p("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:o)?r.call(i,{name:"title",hash:{},data:t}):r)+'">\n<link rel="alternate" type="application/xml+oembed" href="https://www.flickr.com/services/oembed/?format=xml&url='+p("function"==typeof(r=null!=(r=a.fullURL||(null!=e?e.fullURL:e))?r:o)?r.call(i,{name:"fullURL",hash:{},data:t}):r)+'" title="'+p("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:o)?r.call(i,{name:"title",hash:{},data:t}):r)+'">\n'},11:function(n,e,a,l,t){var r;return'<meta property="og:title" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"title",hash:{},data:t}):r)+'" data-dynamic="true">'},13:function(n,e,a,l,t){return'<meta property="og:description" content="'+n.escapeExpression((a.stripTags||e&&e.stripTags||a.helperMissing).call(null!=e?e:{},null!=e?e.description:e,{name:"stripTags",hash:{},data:t}))+'" data-dynamic="true">'},15:function(n,e,a,l,t){var r;return'<meta property="og:type" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.ogType||(null!=e?e.ogType:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"ogType",hash:{},data:t}):r)+'" data-dynamic="true">'},17:function(n,e,a,l,t){var r;return'<meta property="og:url" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.fullURL||(null!=e?e.fullURL:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"fullURL",hash:{},data:t}):r)+'" data-dynamic="true">'},19:function(n,e,a,l,t){var r;return'<meta property="article:author" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.ownerURL||(null!=e?e.ownerURL:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"ownerURL",hash:{},data:t}):r)+'" data-dynamic="true">'},21:function(n,e,a,l,t){var r;return null!=(r=a.unless.call(null!=e?e:{},null!=e?e.extraOpenGraphImages:e,{name:"unless",hash:{},fn:n.program(22,t,0),inverse:n.noop,data:t}))?r:""},22:function(n,e,a,l,t){var r,i,o=null!=e?e:{};return'<meta property="og:image" content="'+n.escapeExpression("function"==typeof(i=null!=(i=a.openGraphImageURL||(null!=e?e.openGraphImageURL:e))?i:a.helperMissing)?i.call(o,{name:"openGraphImageURL",hash:{},data:t}):i)+'" data-dynamic="true">\n'+(null!=(r=a.if.call(o,null!=e?e.openGraphImageWidth:e,{name:"if",hash:{},fn:n.program(23,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(o,null!=e?e.openGraphImageHeight:e,{name:"if",hash:{},fn:n.program(25,t,0),inverse:n.noop,data:t}))?r:"")+"\n"},23:function(n,e,a,l,t){var r;return'<meta property="og:image:width" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.openGraphImageWidth||(null!=e?e.openGraphImageWidth:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"openGraphImageWidth",hash:{},data:t}):r)+'" data-dynamic="true">'},25:function(n,e,a,l,t){var r;return'<meta property="og:image:height" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.openGraphImageHeight||(null!=e?e.openGraphImageHeight:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"openGraphImageHeight",hash:{},data:t}):r)+'" data-dynamic="true">'},27:function(n,e,a,l,t){var r,i=null!=e?e:{},o=a.helperMissing,p=n.escapeExpression;return'<meta property="og:image" content="'+p("function"==typeof(r=null!=(r=a.url||(null!=e?e.url:e))?r:o)?r.call(i,{name:"url",hash:{},data:t}):r)+'" data-dynamic="true">\n<meta property="og:image:width" content="'+p("function"==typeof(r=null!=(r=a.width||(null!=e?e.width:e))?r:o)?r.call(i,{name:"width",hash:{},data:t}):r)+'" data-dynamic="true">\n<meta property="og:image:height" content="'+p("function"==typeof(r=null!=(r=a.height||(null!=e?e.height:e))?r:o)?r.call(i,{name:"height",hash:{},data:t}):r)+'" data-dynamic="true">\n'},29:function(n,e,a,l,t){var r;return'<meta property="al:ios:url" content="flickr://flickr.com'+n.escapeExpression("function"==typeof(r=null!=(r=a.url||(null!=e?e.url:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"url",hash:{},data:t}):r)+'" data-dynamic="true">'},31:function(n,e,a,l,t){var r;return'<meta property="twitter:card" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.twitterCardType||(null!=e?e.twitterCardType:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"twitterCardType",hash:{},data:t}):r)+'" data-dynamic="true">'},33:function(n,e,a,l,t){var r;return'<meta property="twitter:player" content="https://embedr.flickr.com'+n.escapeExpression("function"==typeof(r=null!=(r=a.embedUrl||(null!=e?e.embedUrl:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"embedUrl",hash:{},data:t}):r)+'" data-dynamic="true">\n<meta property="twitter:player:width" content="640" data-dynamic="true">\n<meta property="twitter:player:height" content="480" data-dynamic="true">\n'},35:function(n,e,a,l,t){var r;return'<meta property="twitter:title" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"title",hash:{},data:t}):r)+'" data-dynamic="true">'},37:function(n,e,a,l,t){var r;return'<meta property="twitter:image" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.openGraphImageURL||(null!=e?e.openGraphImageURL:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"openGraphImageURL",hash:{},data:t}):r)+'" data-dynamic="true">'},39:function(n,e,a,l,t){return'<meta property="twitter:description" content="'+n.escapeExpression((a.stripTags||e&&e.stripTags||a.helperMissing).call(null!=e?e:{},null!=e?e.description:e,{name:"stripTags",hash:{},data:t}))+'" data-dynamic="true">'},41:function(n,e,a,l,t){var r,i,o=null!=e?e:{},p=a.helperMissing,u=n.escapeExpression;return'<meta property="twitter:app:url:iphone" content="flickr://flickr.com'+u("function"==typeof(i=null!=(i=a.url||(null!=e?e.url:e))?i:p)?i.call(o,{name:"url",hash:{},data:t}):i)+'" data-dynamic="true">\n<meta property="twitter:app:url:ipad" content="flickr://flickr.com'+u("function"==typeof(i=null!=(i=a.url||(null!=e?e.url:e))?i:p)?i.call(o,{name:"url",hash:{},data:t}):i)+'" data-dynamic="true">\n'+(null!=(r=a.if.call(o,null!=e?e.fullURL:e,{name:"if",hash:{},fn:n.program(42,t,0),inverse:n.noop,data:t}))?r:"")+"\n"},42:function(n,e,a,l,t){var r;return'<meta property="twitter:app:url:googleplay" content="'+n.escapeExpression("function"==typeof(r=null!=(r=a.fullURL||(null!=e?e.fullURL:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"fullURL",hash:{},data:t}):r)+'" data-dynamic="true">'},44:function(n,e,a,l,t){var r,i,o=null!=e?e:{};return'<link rel="alternate" type="application/atom+xml" '+(null!=(r=a.if.call(o,null!=e?e.title:e,{name:"if",hash:{},fn:n.program(45,t,0),inverse:n.noop,data:t}))?r:"")+' href="'+n.escapeExpression("function"==typeof(i=null!=(i=a.url||(null!=e?e.url:e))?i:a.helperMissing)?i.call(o,{name:"url",hash:{},data:t}):i)+'" data-dynamic="true">'},45:function(n,e,a,l,t){var r;return'title="'+n.escapeExpression("function"==typeof(r=null!=(r=a.title||(null!=e?e.title:e))?r:a.helperMissing)?r.call(null!=e?e:{},{name:"title",hash:{},data:t}):r)+'"'},compiler:[7,">= 4.0.0"],main:function(n,e,a,l,t){var r,i=null!=e?e:{};return(null!=(r=a.if.call(i,null!=e?e.title:e,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.description:e,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t}))?r:"")+"\n\n"+(null!=(r=a.if.call(i,null!=e?e.title:e,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.title:e,{name:"if",hash:{},fn:n.program(11,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.description:e,{name:"if",hash:{},fn:n.program(13,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.ogType:e,{name:"if",hash:{},fn:n.program(15,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.fullURL:e,{name:"if",hash:{},fn:n.program(17,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.ownerURL:e,{name:"if",hash:{},fn:n.program(19,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.openGraphImageURL:e,{name:"if",hash:{},fn:n.program(21,t,0),inverse:n.noop,data:t}))?r:"")+(null!=(r=a.each.call(i,null!=e?e.extraOpenGraphImages:e,{name:"each",hash:{},fn:n.program(27,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.url:e,{name:"if",hash:{},fn:n.program(29,t,0),inverse:n.noop,data:t}))?r:"")+"\n\n"+(null!=(r=a.if.call(i,null!=e?e.twitterCardType:e,{name:"if",hash:{},fn:n.program(31,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.embedUrl:e,{name:"if",hash:{},fn:n.program(33,t,0),inverse:n.noop,data:t}))?r:"")+(null!=(r=a.if.call(i,null!=e?e.title:e,{name:"if",hash:{},fn:n.program(35,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.openGraphImageURL:e,{name:"if",hash:{},fn:n.program(37,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.description:e,{name:"if",hash:{},fn:n.program(39,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.if.call(i,null!=e?e.url:e,{name:"if",hash:{},fn:n.program(41,t,0),inverse:n.noop,data:t}))?r:"")+"\n"+(null!=(r=a.each.call(i,null!=e?e.feeds:e,{name:"each",hash:{},fn:n.program(44,t,0),inverse:n.noop,data:t}))?r:"")+"\n"},useData:!0}),l={};n.Array.each([],function(e){var a=n.Template.get("hermes/"+e);a&&(l[e]=a)}),n.Template.register("hermes/dynamic-page-head",function(e,t){return t=t||{},t.partials=t.partials?n.merge(l,t.partials):l,a(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});